<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Construct traditional (Campana-like) age-bias plots. — plotAB • FSA</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Construct traditional (Campana-like) age-bias plots. — plotAB"><meta name="description" content="Constructs a traditional (e.g., like that described in Campana et al. (1995)) age-bias plot to visualize potential differences in paired age estimates. Ages may be from, for example, two readers of the same structure, one reader at two times, two structures (e.g., scales, spines, otoliths), or one structure and known ages."><meta property="og:description" content="Constructs a traditional (e.g., like that described in Campana et al. (1995)) age-bias plot to visualize potential differences in paired age estimates. Ages may be from, for example, two readers of the same structure, one reader at two times, two structures (e.g., scales, spines, otoliths), or one structure and known ages."><meta property="og:image" content="https://fishr-core-team.github.io/FSA/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">FSA</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.9.6.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-demonstrations" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Demonstrations</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-demonstrations"><li><a class="dropdown-item" href="../articles/Computing_PSDs.html">Computing Proportional Size Distribution Metrics</a></li>
    <li><a class="dropdown-item" href="../articles/Computing_Relative_Weights.html">Computing Relative Weights</a></li>
    <li><a class="dropdown-item" href="../articles/Fitting_Growth_Functions.html">Fitting Growth Functions</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-explanations" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Explanations</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-explanations"><li><a class="dropdown-item" href="../articles/Growth_Function_Parameterizations.html">Growth Function Equations</a></li>
    <li><a class="dropdown-item" href="../articles/Growth_Starting_Values.html">Explaining Starting Values for Growth Functions</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../news/index.html" aria-label="See package news"><span class="fa fa-newspaper"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../index.html" aria-label="Goto FSA home"><span class="fa fa-home"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/fishR-Core-Team/FSA" aria-label="Goto FSA github page"><span class="fa fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Construct traditional (Campana-like) age-bias plots.</h1>
      <small class="dont-index">Source: <a href="https://github.com/fishR-Core-Team/FSA/blob/HEAD/R/ageComparisons.R" class="external-link"><code>R/ageComparisons.R</code></a></small>
      <div class="d-none name"><code>plotAB.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Constructs a traditional (e.g., like that described in Campana <em>et al.</em> (1995)) age-bias plot to visualize potential differences in paired age estimates. Ages may be from, for example, two readers of the same structure, one reader at two times, two structures (e.g., scales, spines, otoliths), or one structure and known ages.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plotAB</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  what <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"bias"</span>, <span class="st">"Campana"</span>, <span class="st">"numbers"</span><span class="op">)</span>,</span>
<span>  xlab <span class="op">=</span> <span class="va">x</span><span class="op">$</span><span class="va">ref.lab</span>,</span>
<span>  ylab <span class="op">=</span> <span class="va">x</span><span class="op">$</span><span class="va">nref.lab</span>,</span>
<span>  xlim <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ylim <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  yaxt <span class="op">=</span> <span class="fu">graphics</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="st">"yaxt"</span><span class="op">)</span>,</span>
<span>  xaxt <span class="op">=</span> <span class="fu">graphics</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="st">"xaxt"</span><span class="op">)</span>,</span>
<span>  col.agree <span class="op">=</span> <span class="st">"gray60"</span>,</span>
<span>  lwd.agree <span class="op">=</span> <span class="va">lwd</span>,</span>
<span>  lty.agree <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  lwd <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  sfrac <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  pch.mean <span class="op">=</span> <span class="fl">19</span>,</span>
<span>  pch.mean.sig <span class="op">=</span> <span class="fl">21</span>,</span>
<span>  cex.mean <span class="op">=</span> <span class="va">lwd</span>,</span>
<span>  col.CI <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>  col.CIsig <span class="op">=</span> <span class="st">"red"</span>,</span>
<span>  lwd.CI <span class="op">=</span> <span class="va">lwd</span>,</span>
<span>  sfrac.CI <span class="op">=</span> <span class="va">sfrac</span>,</span>
<span>  show.n <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  nYpos <span class="op">=</span> <span class="fl">1.03</span>,</span>
<span>  cex.n <span class="op">=</span> <span class="fl">0.75</span>,</span>
<span>  cex.numbers <span class="op">=</span> <span class="fl">0.75</span>,</span>
<span>  col.numbers <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>An object of class <code>ageBias</code>, usually a result from <code>ageBias</code>.</p></dd>


<dt id="arg-what">what<a class="anchor" aria-label="anchor" href="#arg-what"></a></dt>
<dd><p>A string that indicates what type of plot to construct. See details.</p></dd>


<dt id="arg-xlab-ylab">xlab, ylab<a class="anchor" aria-label="anchor" href="#arg-xlab-ylab"></a></dt>
<dd><p>A string label for the x-axis (reference) or y-axis (non-reference) age estimates, respectively.</p></dd>


<dt id="arg-xlim-ylim">xlim, ylim<a class="anchor" aria-label="anchor" href="#arg-xlim-ylim"></a></dt>
<dd><p>A numeric vector of length 2 that contains the limits of the x-axis (reference ages) or y-axis (non-reference ages), respectively.</p></dd>


<dt id="arg-xaxt-yaxt">xaxt, yaxt<a class="anchor" aria-label="anchor" href="#arg-xaxt-yaxt"></a></dt>
<dd><p>A string which specifies the x- and y-axis types. Specifying “n” suppresses plotting of the axis. See <code><a href="https://rdrr.io/r/graphics/par.html" class="external-link">?par</a></code>.</p></dd>


<dt id="arg-col-agree">col.agree<a class="anchor" aria-label="anchor" href="#arg-col-agree"></a></dt>
<dd><p>A string or numeric for the color of the 1:1 or zero (if <code>difference=TRUE</code>) reference line.</p></dd>


<dt id="arg-lwd-agree">lwd.agree<a class="anchor" aria-label="anchor" href="#arg-lwd-agree"></a></dt>
<dd><p>A numeric for the line width of the 1:1 or zero (if <code>difference=TRUE</code>) reference line.</p></dd>


<dt id="arg-lty-agree">lty.agree<a class="anchor" aria-label="anchor" href="#arg-lty-agree"></a></dt>
<dd><p>A numeric for the line type of the 1:1 or zero (if <code>difference=TRUE</code>) reference line.</p></dd>


<dt id="arg-lwd">lwd<a class="anchor" aria-label="anchor" href="#arg-lwd"></a></dt>
<dd><p>A numeric that controls the separate ‘lwd’ argument (e.g., <code>lwd.CI</code> and <code>lwd.range</code>).</p></dd>


<dt id="arg-sfrac">sfrac<a class="anchor" aria-label="anchor" href="#arg-sfrac"></a></dt>
<dd><p>A numeric that controls the separate ‘sfrac’ arguments (e.g., <code>sfrac.CI</code> and <code>sfrac.range</code>). See <code>sfrac</code> in <code><a href="https://rdrr.io/pkg/plotrix/man/plotCI.html" class="external-link">plotCI</a></code> of <span class="pkg">plotrix</span>.</p></dd>


<dt id="arg-pch-mean">pch.mean<a class="anchor" aria-label="anchor" href="#arg-pch-mean"></a></dt>
<dd><p>A numeric for the plotting character used for the mean values when the means are considered insignificant.</p></dd>


<dt id="arg-pch-mean-sig">pch.mean.sig<a class="anchor" aria-label="anchor" href="#arg-pch-mean-sig"></a></dt>
<dd><p>A numeric for the plotting character for the mean values when the means are considered significant.</p></dd>


<dt id="arg-cex-mean">cex.mean<a class="anchor" aria-label="anchor" href="#arg-cex-mean"></a></dt>
<dd><p>A character expansion value for the size of the mean symbol in <code>pch.mean</code> and <code>pch.mean.sig</code>.</p></dd>


<dt id="arg-col-ci">col.CI<a class="anchor" aria-label="anchor" href="#arg-col-ci"></a></dt>
<dd><p>A string or numeric for the color of confidence interval bars that are considered non-significant.</p></dd>


<dt id="arg-col-cisig">col.CIsig<a class="anchor" aria-label="anchor" href="#arg-col-cisig"></a></dt>
<dd><p>A string or numeric for the color of confidence interval bars that are considered significant.</p></dd>


<dt id="arg-lwd-ci">lwd.CI<a class="anchor" aria-label="anchor" href="#arg-lwd-ci"></a></dt>
<dd><p>A numeric for the line width of the confidence interval bars.</p></dd>


<dt id="arg-sfrac-ci">sfrac.CI<a class="anchor" aria-label="anchor" href="#arg-sfrac-ci"></a></dt>
<dd><p>A numeric for the size of the ends of the confidence interval bars. See <code>sfrac</code> in <code><a href="https://rdrr.io/pkg/plotrix/man/plotCI.html" class="external-link">plotCI</a></code> of <span class="pkg">plotrix</span>.</p></dd>


<dt id="arg-show-n">show.n<a class="anchor" aria-label="anchor" href="#arg-show-n"></a></dt>
<dd><p>A logical for whether the sample sizes for each level of the x-axis variable is shown (<code>=TRUE</code>, default) or not (<code>=FALSE</code>).</p></dd>


<dt id="arg-nypos">nYpos<a class="anchor" aria-label="anchor" href="#arg-nypos"></a></dt>
<dd><p>A numeric for the relative Y position of the sample size values when <code>show.n=TRUE</code>. For example, if <code>nYpos=1.03</code> then the sample size values will be centered at 3 percent above the top end of the y-axis.</p></dd>


<dt id="arg-cex-n">cex.n<a class="anchor" aria-label="anchor" href="#arg-cex-n"></a></dt>
<dd><p>A character expansion value for the size of the sample size values.</p></dd>


<dt id="arg-cex-numbers">cex.numbers<a class="anchor" aria-label="anchor" href="#arg-cex-numbers"></a></dt>
<dd><p>A character expansion value for the size of the numbers plotted when <code>what="numbers"</code> is used.</p></dd>


<dt id="arg-col-numbers">col.numbers<a class="anchor" aria-label="anchor" href="#arg-col-numbers"></a></dt>
<dd><p>A string for the color of the numbers plotted when <code>what="numbers"</code> is used.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments for methods.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Nothing, but see details for a description of the plot that is produced.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Two types of plots for visualizing differences between sets of two age estimates may be created. The reference ages are plotted on the x-axis and the nonreference ages are on the y-axis. The 1:1 (45 degree) agreement line is shown for comparative purposes. The default plot (using <code>what="bias"</code>) was inspired by the age bias plot introduced by Campana <em>et al.</em> (1995). The default settings for this age bias plot show the mean and confidence interval for the nonreference ages at each of the reference ages. The level of confidence is controlled by <code>sig.level=</code> given in the original <code><a href="ageBias.html">ageBias</a></code> call (i.e., confidence level is 100*(1-<code>sig.level</code>)). Confidence intervals are only shown if the sample size is greater than the value in <code>min.n.CI=</code> (also from the original call to <code><a href="ageBias.html">ageBias</a></code>). Confidence intervals plotted in red with an open dot (by default; these can be changed with <code>col.CIsig</code> and <code>pch.mean.sig</code>, respectively) do not contain the reference age (see discussion of t-tests in <code><a href="ageBias.html">ageBias</a></code>). Sample sizes at each reference age are shown if <code>show.n=TRUE</code>. The position of the sample sizes is controlled with <code>nYpos=</code>, whereas their size is controlled with <code>cex.n</code>. Arguments may be used to nearly replicate the age bias plot as introduced by Campana <em>et al.</em> (1995) as shown in the examples.</p>
<p>The frequency of observations at each unique (x,y) coordinate are shown by using <code>what="numbers"</code> in <code>plotAB</code>. The size of the numbers is controlled with <code>cex.numbers</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="ifar-chapter">IFAR Chapter<a class="anchor" aria-label="anchor" href="#ifar-chapter"></a></h2>
    <p>4-Age Comparisons. <b>This is most of the original functionality that was in <code>plot</code> in the book. See examples.</b></p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Campana, S.E., M.C. Annand, and J.I. McMillan. 1995. Graphical and statistical methods for determining the consistency of age determinations. Transactions of the American Fisheries Society 124:131-138. [Was (is?) available from http://www.bio.gc.ca/otoliths/documents/Campana%20et%20al%201995%20TAFS.pdf.]</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>See <code><a href="ageBias.html">ageBias</a></code> and its plot method for what I consider a better age-bias plot; <code><a href="agePrecision.html">agePrecision</a></code> for measures of precision between pairs of age estimates; and <code><a href="https://rdrr.io/pkg/fishmethods/man/compare2.html" class="external-link">compare2</a></code> in <span class="pkg">fishmethods</span> for similar functionality.</p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Derek H. Ogle, <a href="mailto:DerekOgle51@gmail.com">DerekOgle51@gmail.com</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Must create ageBias object first</span></span></span>
<span class="r-in"><span><span class="va">ab1</span> <span class="op">&lt;-</span> <span class="fu"><a href="ageBias.html">ageBias</a></span><span class="op">(</span><span class="va">scaleC</span><span class="op">~</span><span class="va">otolithC</span>,data<span class="op">=</span><span class="va">WhitefishLC</span>,</span></span>
<span class="r-in"><span>               ref.lab<span class="op">=</span><span class="st">"Otolith Age"</span>,nref.lab<span class="op">=</span><span class="st">"Scale Age"</span><span class="op">)</span></span></span>
<span class="r-in"><span>               </span></span>
<span class="r-in"><span><span class="co"># Default plot</span></span></span>
<span class="r-in"><span><span class="fu">plotAB</span><span class="op">(</span><span class="va">ab1</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plotAB-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Very close to Campana et al. (2001)</span></span></span>
<span class="r-in"><span><span class="fu">plotAB</span><span class="op">(</span><span class="va">ab1</span>,pch.mean.sig<span class="op">=</span><span class="fl">19</span>,col.CIsig<span class="op">=</span><span class="st">"black"</span>,sfrac<span class="op">=</span><span class="fl">0.01</span>,</span></span>
<span class="r-in"><span>       ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>,<span class="fl">23</span><span class="op">)</span>,xlim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>,<span class="fl">23</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plotAB-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co"># Show sample sizes (different position and size than default)</span></span></span>
<span class="r-in"><span><span class="fu">plotAB</span><span class="op">(</span><span class="va">ab1</span>,show.n<span class="op">=</span><span class="cn">TRUE</span>,nYpos<span class="op">=</span><span class="fl">0.02</span>,cex.n<span class="op">=</span><span class="fl">0.5</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plotAB-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Traditional numbers plot</span></span></span>
<span class="r-in"><span><span class="fu">plotAB</span><span class="op">(</span><span class="va">ab1</span>,what<span class="op">=</span><span class="st">"numbers"</span><span class="op">)</span> </span></span>
<span class="r-plt img"><img src="plotAB-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="http://derekogle.com" class="external-link">Derek H. Ogle</a>, Jason C. Doll, A. Powell Wheeler, Alexis Dinno.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.9000.</p>
</div>

    </footer></div>





  </body></html>

