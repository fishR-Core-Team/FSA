<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Computes a vector of relative weights specific to a species in an entire data frame. — wrAdd • FSA</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Computes a vector of relative weights specific to a species in an entire data frame. — wrAdd"><meta name="description" content="Returns a vector that contains the relative weight specific to each species for all individuals in an entire data frame."><meta property="og:description" content="Returns a vector that contains the relative weight specific to each species for all individuals in an entire data frame."><meta property="og:image" content="https://fishr-core-team.github.io/FSA/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">FSA</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.10.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-demonstrations" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Demonstrations</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-demonstrations"><li><a class="dropdown-item" href="../articles/Computing_PSDs.html">Computing Proportional Size Distribution Metrics</a></li>
    <li><a class="dropdown-item" href="../articles/Computing_Relative_Weights.html">Computing Relative Weights</a></li>
    <li><a class="dropdown-item" href="../articles/Fitting_Growth_Functions.html">Fitting Growth Functions</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-explanations" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Explanations</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-explanations"><li><a class="dropdown-item" href="../articles/Growth_Function_Parameterizations.html">Growth Function Equations</a></li>
    <li><a class="dropdown-item" href="../articles/Growth_Starting_Values.html">Explaining Starting Values for Growth Functions</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../news/index.html" aria-label="See package news"><span class="fa fa-newspaper"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../index.html" aria-label="Goto FSA home"><span class="fa fa-home"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/fishR-Core-Team/FSA" aria-label="Goto FSA github page"><span class="fa fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Computes a vector of relative weights specific to a species in an entire data frame.</h1>
      <small class="dont-index">Source: <a href="https://github.com/fishR-Core-Team/FSA/blob/v0.10.0/R/wrAdd.R" class="external-link"><code>R/wrAdd.R</code></a></small>
      <div class="d-none name"><code>wrAdd.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Returns a vector that contains the relative weight specific to each species for all individuals in an entire data frame.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">wrAdd</span><span class="op">(</span><span class="va">wt</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Default S3 method</span></span>
<span><span class="fu">wrAdd</span><span class="op">(</span><span class="va">wt</span>, <span class="va">len</span>, <span class="va">spec</span>, units <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"metric"</span>, <span class="st">"English"</span><span class="op">)</span>, WsOpts <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'formula'</span></span>
<span><span class="fu">wrAdd</span><span class="op">(</span><span class="va">wt</span>, <span class="va">data</span>, units <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"metric"</span>, <span class="st">"English"</span><span class="op">)</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-wt">wt<a class="anchor" aria-label="anchor" href="#arg-wt"></a></dt>
<dd><p>A numeric vector that contains weight measurements or a formula of the form <code>wt~len+spec</code> where “wt” generically represents the weight variable, “len” generically represents the length variable, and “spec” generically represents the species variable. Note that this formula can only contain three variables and they must be in the order of weight first, length second, species third.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Not used.</p></dd>


<dt id="arg-len">len<a class="anchor" aria-label="anchor" href="#arg-len"></a></dt>
<dd><p>A numeric vector that contains length measurements. Not used if <code>wt</code> is a formula.</p></dd>


<dt id="arg-spec">spec<a class="anchor" aria-label="anchor" href="#arg-spec"></a></dt>
<dd><p>A character or factor vector that contains the species names. Not used if <code>wt</code> is a formula.</p></dd>


<dt id="arg-units">units<a class="anchor" aria-label="anchor" href="#arg-units"></a></dt>
<dd><p>A string that indicates whether the weight and length data in <code>formula</code> are in <code>"metric"</code> (DEFAULT; mm and g) or <code>"English"</code> (in and lbs) units.</p></dd>


<dt id="arg-wsopts">WsOpts<a class="anchor" aria-label="anchor" href="#arg-wsopts"></a></dt>
<dd><p>A named list that provides specific choices for <code>group</code>, <code>ref</code>, or <code>method</code> for species for which more than one standard weight equation exists in <code><a href="WSlit.html">WSlit</a></code>.</p></dd>


<dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A data.frame that minimally contains variables of the the observed lengths, observed weights, and the species names given in the <code>formula=</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A numeric vector that contains the computed relative weights, in the same order as in <code>data=</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This computes a vector that contains the relative weight specific to each species for all individuals in an entire data frame. The vector can be appended to an existing data.frame to create a variable that contains the relative weights for each individual. The relative weight value will be <code>NA</code> for each individual for which a standard weight equation does not exist in <code><a href="WSlit.html">WSlit</a></code>, a standard weight equation for the units given in <code>units=</code> does not exist in <code><a href="WSlit.html">WSlit</a></code>, or if the individual is shorter or longer than the lengths for which the standard weight equation should be applied. Either the linear or quadratic equation has been listed as preferred for each species, so only that equation will be used.</p>
<p>The species names in <code>species</code> must match the spelling and capitalization of <code>species</code> in <code><a href="WSlit.html">WSlit</a></code>. Use <code><a href="wsVal.html">wsVal()</a></code> to see a list of all species for which standard weight equations exist in <code><a href="WSlit.html">WSlit</a></code> and, more importantly, how the species names are spelled and capitalized.</p>
<p>Some (few) species have more than one equation listed in <code><a href="WSlit.html">WSlit</a></code> (for the specified units). In these instances the user must select one of the equations to use with <code>WsOpts</code>. <code>WsOpts</code> is a list of lists where the inside list contains one or more of <code>group</code>, <code>ref</code>, or <code>method</code> (see <code><a href="WSlit.html">WSlit</a></code>) required to specify a single equation for a particular species, which is the name of the inner list. See the examples for an illustration of how to use <code>WsOpts</code>.</p>
<p>See examples and <a href="https://fishr-core-team.github.io/FSA/articles/Computing_Relative_Weights.html">this article</a> for a demonstration.</p>
    </div>
    <div class="section level2">
    <h2 id="ifar-chapter">IFAR Chapter<a class="anchor" aria-label="anchor" href="#ifar-chapter"></a></h2>
    <p>8-Condition.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Ogle, D.H. 2016. <a href="https://fishr-core-team.github.io/fishR/pages/books.html#introductory-fisheries-analyses-with-r" class="external-link">Introductory Fisheries Analyses with R</a>. Chapman &amp; Hall/CRC, Boca Raton, FL.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>See <code><a href="wsVal.html">wsVal</a></code>, <code><a href="WSlit.html">WSlit</a></code>, and <code><a href="psdAdd.html">psdAdd</a></code> for related functionality. See <code>mapvalues</code> for help in changing species names to match those in <code><a href="WSlit.html">WSlit</a></code>.</p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Derek H. Ogle, <a href="mailto:DerekOgle51@gmail.com">DerekOgle51@gmail.com</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">#===== Create random data for three species</span></span></span>
<span class="r-in"><span><span class="co">#----- just to control the randomization</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">345234534</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dbt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>species<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Bluefin Tuna"</span><span class="op">)</span>,<span class="fl">30</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                  tl<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">30</span>,<span class="fl">1900</span>,<span class="fl">300</span><span class="op">)</span>,<span class="fl">0</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dbt</span><span class="op">$</span><span class="va">wt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fl">4.5e-05</span><span class="op">*</span><span class="va">dbt</span><span class="op">$</span><span class="va">tl</span><span class="op">^</span><span class="fl">2.8</span><span class="op">+</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">30</span>,<span class="fl">0</span>,<span class="fl">6000</span><span class="op">)</span>,<span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dbg</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>species<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Bluegill"</span><span class="op">)</span>,<span class="fl">30</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                  tl<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">30</span>,<span class="fl">130</span>,<span class="fl">50</span><span class="op">)</span>,<span class="fl">0</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dbg</span><span class="op">$</span><span class="va">wt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fl">4.23e-06</span><span class="op">*</span><span class="va">dbg</span><span class="op">$</span><span class="va">tl</span><span class="op">^</span><span class="fl">3.316</span><span class="op">+</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">30</span>,<span class="fl">0</span>,<span class="fl">10</span><span class="op">)</span>,<span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dlb</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>species<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Largemouth Bass"</span><span class="op">)</span>,<span class="fl">30</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                  tl<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">30</span>,<span class="fl">350</span>,<span class="fl">60</span><span class="op">)</span>,<span class="fl">0</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dlb</span><span class="op">$</span><span class="va">wt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fl">2.96e-06</span><span class="op">*</span><span class="va">dlb</span><span class="op">$</span><span class="va">tl</span><span class="op">^</span><span class="fl">3.273</span><span class="op">+</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">30</span>,<span class="fl">0</span>,<span class="fl">60</span><span class="op">)</span>,<span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">dbt</span>,<span class="va">dbg</span>,<span class="va">dlb</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 'data.frame':	90 obs. of  3 variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ species: Factor w/ 3 levels "Bluefin Tuna",..: 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ tl     : num  1371 1558 2031 2226 2124 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ wt     : num  19231 38147 90530 104718 88761 ...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#===== Add Wr variable</span></span></span>
<span class="r-in"><span><span class="co">#----- using formula interface</span></span></span>
<span class="r-in"><span><span class="va">df</span><span class="op">$</span><span class="va">Wr1</span> <span class="op">&lt;-</span> <span class="fu">wrAdd</span><span class="op">(</span><span class="va">wt</span><span class="op">~</span><span class="va">tl</span><span class="op">+</span><span class="va">species</span>,data<span class="op">=</span><span class="va">df</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#----- same but with non-formula interface</span></span></span>
<span class="r-in"><span><span class="va">df</span><span class="op">$</span><span class="va">Wr2</span> <span class="op">&lt;-</span> <span class="fu">wrAdd</span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">wt</span>,<span class="va">df</span><span class="op">$</span><span class="va">tl</span>,<span class="va">df</span><span class="op">$</span><span class="va">species</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#----- same but using dplyr</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">df</span> <span class="op">&lt;-</span> <span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>Wr3<span class="op">=</span><span class="fu">wrAdd</span><span class="op">(</span><span class="va">wt</span>,<span class="va">tl</span>,<span class="va">species</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#----- examine results</span></span></span>
<span class="r-in"><span><span class="fu"><a href="peek.html">peek</a></span><span class="op">(</span><span class="va">df</span>,n<span class="op">=</span><span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            species   tl       wt       Wr1       Wr2       Wr3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     Bluefin Tuna 1371  19231.0        NA        NA        NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10    Bluefin Tuna 2060  84458.4        NA        NA        NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20    Bluefin Tuna 2545 142705.1        NA        NA        NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30    Bluefin Tuna 1889  59611.6        NA        NA        NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 40        Bluegill   52     -5.8        NA        NA        NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 50        Bluegill  122     36.7 104.78446 104.78446 104.78446</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 60        Bluegill   72     19.0        NA        NA        NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 70 Largemouth Bass  396    900.0  95.49622  95.49622  95.49622</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 80 Largemouth Bass  328    553.9 108.88706 108.88706 108.88706</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 90 Largemouth Bass  371    612.6  80.46670  80.46670  80.46670</span>
<span class="r-in"><span> </span></span>
<span class="r-in"><span><span class="co">#===== Example with only one species in the data.frame</span></span></span>
<span class="r-in"><span><span class="va">bg</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/droplevels.html" class="external-link">droplevels</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">df</span>,<span class="va">species</span><span class="op">==</span><span class="st">"Bluegill"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">bg</span><span class="op">$</span><span class="va">Wr4</span> <span class="op">&lt;-</span> <span class="fu">wrAdd</span><span class="op">(</span><span class="va">wt</span><span class="op">~</span><span class="va">tl</span><span class="op">+</span><span class="va">species</span>,data<span class="op">=</span><span class="va">bg</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">bg</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     species  tl    wt       Wr1       Wr2       Wr3       Wr4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31 Bluegill 158  75.3  91.21118  91.21118  91.21118  91.21118</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32 Bluegill 157  80.3  99.33729  99.33729  99.33729  99.33729</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 33 Bluegill 126  26.0  66.70289  66.70289  66.70289  66.70289</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 34 Bluegill 203 196.2 103.52426 103.52426 103.52426 103.52426</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 35 Bluegill 136  59.9 119.29213 119.29213 119.29213 119.29213</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36 Bluegill 192 159.4 101.17226 101.17226 101.17226 101.17226</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 37 Bluegill 132  54.9 120.71165 120.71165 120.71165 120.71165</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38 Bluegill 121  30.7  90.07870  90.07870  90.07870  90.07870</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 39 Bluegill 136  42.4  84.44051  84.44051  84.44051  84.44051</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 40 Bluegill  52  -5.8        NA        NA        NA        NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 41 Bluegill 111  17.5  68.35134  68.35134  68.35134  68.35134</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 42 Bluegill 226 267.8  98.98901  98.98901  98.98901  98.98901</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 43 Bluegill 217 238.2 100.74912 100.74912 100.74912 100.74912</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 44 Bluegill 163  86.9  94.93048  94.93048  94.93048  94.93048</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 45 Bluegill 119  18.3  56.74628  56.74628  56.74628  56.74628</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 46 Bluegill  79  17.9        NA        NA        NA        NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 47 Bluegill  78   3.5        NA        NA        NA        NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 48 Bluegill 172 113.9 104.11454 104.11454 104.11454 104.11454</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 49 Bluegill 106  28.0 127.42181 127.42181 127.42181 127.42181</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 50 Bluegill 122  36.7 104.78446 104.78446 104.78446 104.78446</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 51 Bluegill  95  14.1  92.27576  92.27576  92.27576  92.27576</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 52 Bluegill  47  -3.3        NA        NA        NA        NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 53 Bluegill 155  72.8  93.97048  93.97048  93.97048  93.97048</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 54 Bluegill 167 101.5 102.31474 102.31474 102.31474 102.31474</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 55 Bluegill 146  65.1 102.46768 102.46768 102.46768 102.46768</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 56 Bluegill 125  54.5 143.56312 143.56312 143.56312 143.56312</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 57 Bluegill  66  -7.1        NA        NA        NA        NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 58 Bluegill 160  92.1 107.00345 107.00345 107.00345 107.00345</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 59 Bluegill  85   1.7  16.08777  16.08777  16.08777  16.08777</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 60 Bluegill  72  19.0        NA        NA        NA        NA</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#===== Example with a species that has Ws eqns for multiple groups and a</span></span></span>
<span class="r-in"><span><span class="co">#      group needs to be specified with WsOpts</span></span></span>
<span class="r-in"><span><span class="va">wae</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>species<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Walleye"</span><span class="op">)</span>,<span class="fl">30</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                  tl<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">30</span>,<span class="fl">500</span>,<span class="fl">200</span><span class="op">)</span>,<span class="fl">0</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">wae</span><span class="op">$</span><span class="va">wt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fl">3.33e-06</span><span class="op">*</span><span class="va">wae</span><span class="op">$</span><span class="va">tl</span><span class="op">^</span><span class="fl">3.16</span><span class="op">+</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">30</span>,<span class="fl">0</span>,<span class="fl">50</span><span class="op">)</span>,<span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># wae$Wr &lt;- wrAdd(wt~tl+species,data=wae) # will err b/c multiple groups</span></span></span>
<span class="r-in"><span><span class="va">wae</span><span class="op">$</span><span class="va">Wr</span> <span class="op">&lt;-</span> <span class="fu">wrAdd</span><span class="op">(</span><span class="va">wt</span><span class="op">~</span><span class="va">tl</span><span class="op">+</span><span class="va">species</span>,data<span class="op">=</span><span class="va">wae</span>,</span></span>
<span class="r-in"><span>                WsOpts<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>Walleye<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>group<span class="op">=</span><span class="st">"overall"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="peek.html">peek</a></span><span class="op">(</span><span class="va">wae</span>,n<span class="op">=</span><span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    species  tl     wt        Wr</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  Walleye 791 4768.4  82.25673</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  Walleye 300  271.9 102.36786</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  Walleye 659 2719.5  83.83656</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 Walleye 493 1066.4  82.73074</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13 Walleye 505 1151.5  82.75559</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17 Walleye 676 2794.8  79.45482</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20 Walleye 754 4131.0  82.98781</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23 Walleye 500 1067.4  79.17765</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27 Walleye 544 1431.0  81.17740</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30 Walleye 490 1117.6  88.40216</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="http://derekogle.com" class="external-link">Derek H. Ogle</a>, Jason C. Doll, A. Powell Wheeler, Alexis Dinno.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.9000.</p>
</div>

    </footer></div>





  </body></html>

