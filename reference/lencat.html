<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Constructs length class/category variable. — lencat • FSA</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Constructs length class/category variable. — lencat"><meta property="og:description" content="Constructs a vector that contains the length class or category to which an individual belongs. Optionally, that vector can be appended to the original data frame."><meta property="og:image" content="http://derekogle.com/FSA/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">FSA</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.9.3.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="../index.html">
    <span class="fa fa-home fa-2x"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/droglenc/FSA" class="external-link">
    <span class="fa fa-github fa-2x"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Constructs length class/category variable.</h1>
    <small class="dont-index">Source: <a href="https://github.com/fishR-Core-Team/FSA/blob/HEAD/R/lencat.R" class="external-link"><code>R/lencat.R</code></a></small>
    <div class="hidden name"><code>lencat.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Constructs a vector that contains the length class or category to which an individual belongs. Optionally, that vector can be appended to the original data frame.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">lencat</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span>

<span class="co"># S3 method for default</span>
<span class="fu">lencat</span><span class="op">(</span>
  <span class="va">x</span>,
  w <span class="op">=</span> <span class="fl">1</span>,
  startcat <span class="op">=</span> <span class="cn">NULL</span>,
  breaks <span class="op">=</span> <span class="cn">NULL</span>,
  right <span class="op">=</span> <span class="cn">FALSE</span>,
  use.names <span class="op">=</span> <span class="cn">FALSE</span>,
  as.fact <span class="op">=</span> <span class="va">use.names</span>,
  droplevels <span class="op">=</span> <span class="va">drop.levels</span>,
  drop.levels <span class="op">=</span> <span class="cn">FALSE</span>,
  <span class="va">...</span>
<span class="op">)</span>

<span class="co"># S3 method for formula</span>
<span class="fu">lencat</span><span class="op">(</span>
  <span class="va">x</span>,
  <span class="va">data</span>,
  w <span class="op">=</span> <span class="fl">1</span>,
  startcat <span class="op">=</span> <span class="cn">NULL</span>,
  breaks <span class="op">=</span> <span class="cn">NULL</span>,
  right <span class="op">=</span> <span class="cn">FALSE</span>,
  use.names <span class="op">=</span> <span class="cn">FALSE</span>,
  as.fact <span class="op">=</span> <span class="va">use.names</span>,
  droplevels <span class="op">=</span> <span class="va">drop.levels</span>,
  drop.levels <span class="op">=</span> <span class="cn">FALSE</span>,
  vname <span class="op">=</span> <span class="cn">NULL</span>,
  <span class="va">...</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>A numeric vector that contains the length measurements or a formula of the form <code>~x</code> where “x” generically represents a variable in <code>data</code> that contains length measurements. This formula can only contain one variable.</p></dd>
<dt>...</dt>
<dd><p>Not implemented.</p></dd>
<dt>w</dt>
<dd><p>A single numeric that indicates the width of length categories to create. Ignored if <code>breaks</code> is not <code>NULL</code>.</p></dd>
<dt>startcat</dt>
<dd><p>A single numeric that indicates the beginning of the first length category. Only used with <code>w</code>. See details for how this is handled when <code>NULL</code>.</p></dd>
<dt>breaks</dt>
<dd><p>A numeric vector of lower values for the break points of the length categories.</p></dd>
<dt>right</dt>
<dd><p>A logical that indicates if the intervals should be closed on the right (and open on the left) or vice versa.</p></dd>
<dt>use.names</dt>
<dd><p>A logical that indicates whether the names for the values in <code>breaks</code> should be used for the levels in the new variable. Will throw a warning and then use default levels if <code>TRUE</code> but <code>names(breaks)</code> is <code>NULL</code>.</p></dd>
<dt>as.fact</dt>
<dd><p>A logical that indicates that the new variable should be returned as a factor (<code>=TRUE</code>) or not (<code>=FALSE</code>; default).</p></dd>
<dt>droplevels, drop.levels</dt>
<dd><p>A logical that indicates that the new variable should retain all levels indicated in <code>breaks</code> (<code>=FALSE</code>; default) or not. Ignored if <code>as.fact=FALSE</code>.</p></dd>
<dt>data</dt>
<dd><p>A data.frame that minimally contains the length measurements given in the variable in the <code>formula</code>.</p></dd>
<dt>vname</dt>
<dd><p>A string that contains the name for the new length class variable.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>If the formula version of the function is used, then a data.frame is returned with the a new variable, named as in <code>vname</code> (defaults to <code>LCat</code>), appended to the original data.frame. If the default version of the function is used, then a single vector is returned. The returned values will be numeric unless <code>breaks</code> is named and <code>use.names=TRUE</code> or if <code>as.fact=TRUE</code>.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>If <code>breaks</code> is non-NULL, then <code>w</code> and <code>startcat</code> will be ignored. The vector of values in <code>breaks</code> should begin with a value smaller than the minimum observed value and end with a value larger than the maximum observed value. If the lowest break value is larger than the minimum observed value, then an error will occur. If the largest break value is smaller than the maximum observed value, then an additional break value larger than the maximum observed value will be added to <code>breaks</code> (and a warning will be sent). The values in <code>breaks</code> do not have to be equally spaced.</p>
<p>If <code>breaks=NULL</code> (the default), then the value in <code>w</code> is used to create equally spaced categories. If <code>startcat=NULL</code> (the default), then the length categories will begin with the first value less than the minimum observed value “rounded” by <code>w</code>. For example, if the minimum observed value is 67, then the first length category will be 65 if <code>w=5</code>, 60 if <code>w=10</code>, 50 if <code>w=25</code>, and 50 if <code>w=50</code>. The length categories will continue from this starting value by values of <code>w</code> until a value greater than the largest observed value in <code>x</code>. The length categories are left-inclusive and right-exclusive by default (i.e., <code>right=FALSE</code>).</p>
<p>The start of the length categories may also be set with <code>startcat</code>. The number in the <code>startcat</code> argument should be less than the smallest value in <code>x</code>. Additionally, the number of decimals in <code>startcat</code> should not be more than the number of decimals in <code>w</code> (e.g., <code>startcat=0.4</code> and <code>w=1</code> will result in an error).</p>
<p>One may want to convert apparent numeric values to factor values if some of the length categories are missing (e.g., if factor values are used, for example, then tables of the length category values will have values for all length categories; i.e., it will have zeros for the length categories that are missing). The numeric values can be converted to factors by including <code>as.fact</code>. See the “real data” example.</p>
<p>The observed values in <code>x</code> should be rounded to the appropriate number of decimals to avoid misplacement of individuals into incorrect length categories due to issues with machine-precision (see discussion in <code>all.equal</code>.)</p>
    </div>
    <div id="ifar-chapter">
    <h2>IFAR Chapter</h2>
    <p>2-Data Manipulation.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Ogle, D.H. 2016. <a href="http://derekogle.com/IFAR/" class="external-link">Introductory Fisheries Analyses with R</a>. Chapman &amp; Hall/CRC, Boca Raton, FL.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Derek H. Ogle, <a href="mailto:derek@derekogle.com">derek@derekogle.com</a></p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># Create random lengths measured to nearest 0.1 unit</span></span>
<span class="r-in"><span class="va">df1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>len<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">50</span>,<span class="fl">0.1</span>,<span class="fl">9.9</span><span class="op">)</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Create length categories by 0.1 unit</span></span>
<span class="r-in"><span class="va">df1</span><span class="op">$</span><span class="va">LCat1</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">df1</span><span class="op">$</span><span class="va">len</span>,w<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">LCat1</span>,data<span class="op">=</span><span class="va">df1</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LCat1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.2 0.9 1.3 1.5 1.6 1.7 2.1 2.8 2.9   3 3.3 3.8 4.1 4.2 4.4 4.5 4.6 4.9 5.1 5.7 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1   1   2   1   1   2   1   1   2   2   1   1   1   1   1   2   1   1   2   1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6.2 6.3 6.4 7.1 7.2 7.3 7.6 7.7 7.9 8.3 8.6 8.7 9.3 9.8 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1   2   1   2   1   2   1   1   1   5   2   2   1   2 </span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># length categories by 0.2 units</span></span>
<span class="r-in"><span class="va">df1</span><span class="op">$</span><span class="va">LCat2</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">df1</span><span class="op">$</span><span class="va">len</span>,w<span class="op">=</span><span class="fl">0.2</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">LCat2</span>,data<span class="op">=</span><span class="va">df1</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LCat2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.2 0.8 1.2 1.4 1.6   2 2.8   3 3.2 3.8   4 4.2 4.4 4.6 4.8   5 5.6 6.2 6.4   7 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1   1   2   1   3   1   3   2   1   1   1   1   3   1   1   2   1   3   1   2 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7.2 7.6 7.8 8.2 8.6 9.2 9.8 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3   2   1   5   4   1   2 </span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># length categories by 0.2 units starting at 0.1</span></span>
<span class="r-in"><span class="va">df1</span><span class="op">$</span><span class="va">LCat3</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">df1</span><span class="op">$</span><span class="va">len</span>,w<span class="op">=</span><span class="fl">0.2</span>,startcat<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">LCat3</span>,data<span class="op">=</span><span class="va">df1</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LCat3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.1 0.9 1.3 1.5 1.7 2.1 2.7 2.9 3.3 3.7 4.1 4.3 4.5 4.9 5.1 5.7 6.1 6.3 7.1 7.3 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1   1   2   2   2   1   1   4   1   1   2   1   3   1   2   1   1   3   3   2 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7.5 7.7 7.9 8.3 8.5 8.7 9.3 9.7 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1   1   1   5   2   2   1   2 </span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># length categories as set by breaks</span></span>
<span class="r-in"><span class="va">df1</span><span class="op">$</span><span class="va">LCat4</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">df1</span><span class="op">$</span><span class="va">len</span>,breaks<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">2</span>,<span class="fl">4</span>,<span class="fl">7</span>,<span class="fl">10</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">LCat4</span>,data<span class="op">=</span><span class="va">df1</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LCat4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  0  2  4  7 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8  8 14 20 </span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## A Second example</span></span>
<span class="r-in"><span class="co"># random lengths measured to nearest unit</span></span>
<span class="r-in"><span class="va">df2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>len<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">50</span>,<span class="fl">10</span>,<span class="fl">117</span><span class="op">)</span>,<span class="fl">0</span><span class="op">)</span><span class="op">)</span>    </span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># length categories by 5 units</span></span>
<span class="r-in"><span class="va">df2</span><span class="op">$</span><span class="va">LCat1</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">df2</span><span class="op">$</span><span class="va">len</span>,w<span class="op">=</span><span class="fl">5</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">LCat1</span>,data<span class="op">=</span><span class="va">df2</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LCat1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  10  15  20  25  30  35  40  45  50  65  70  75  80  85  90  95 100 105 110 115 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3   4   3   2   1   1   2   2   4   3   2   1   2   2   3   4   2   4   4   1 </span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># length categories by 5 units starting at 7</span></span>
<span class="r-in"><span class="va">df2</span><span class="op">$</span><span class="va">LCat2</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">df2</span><span class="op">$</span><span class="va">len</span>,w<span class="op">=</span><span class="fl">5</span>,startcat<span class="op">=</span><span class="fl">7</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">LCat2</span>,data<span class="op">=</span><span class="va">df2</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LCat2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   7  12  17  22  27  32  37  42  47  52  62  67  72  77  82  87  92  97 102 107 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2   2   5   1   2   1   1   3   3   2   2   1   2   1   3   1   5   2   3   6 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 112 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2 </span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># length categories by 10 units</span></span>
<span class="r-in"><span class="va">df2</span><span class="op">$</span><span class="va">LCat3</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">df2</span><span class="op">$</span><span class="va">len</span>,w<span class="op">=</span><span class="fl">10</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">LCat3</span>,data<span class="op">=</span><span class="va">df2</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LCat3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  10  20  30  40  50  60  70  80  90 100 110 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   7   5   2   4   4   3   3   4   7   6   5 </span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># length categories by 10 units starting at 5</span></span>
<span class="r-in"><span class="va">df2</span><span class="op">$</span><span class="va">LCat4</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">df2</span><span class="op">$</span><span class="va">len</span>,w<span class="op">=</span><span class="fl">10</span>,startcat<span class="op">=</span><span class="fl">5</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">LCat4</span>,data<span class="op">=</span><span class="va">df2</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LCat4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5  15  25  35  45  65  75  85  95 105 115 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3   7   3   3   6   5   3   5   6   8   1 </span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># length categories as set by breaks</span></span>
<span class="r-in"><span class="va">df2</span><span class="op">$</span><span class="va">LCat5</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">df2</span><span class="op">$</span><span class="va">len</span>,breaks<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">50</span>,<span class="fl">75</span>,<span class="fl">150</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">LCat5</span>,data<span class="op">=</span><span class="va">df2</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LCat5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5 50 75 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18  9 23 </span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## A Third example</span></span>
<span class="r-in"><span class="co"># random lengths measured to nearest 0.1 unit</span></span>
<span class="r-in"><span class="va">df3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>len<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">50</span>,<span class="fl">10</span>,<span class="fl">117</span><span class="op">)</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># length categories by 5 units</span></span>
<span class="r-in"><span class="va">df3</span><span class="op">$</span><span class="va">LCat1</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">df3</span><span class="op">$</span><span class="va">len</span>,w<span class="op">=</span><span class="fl">5</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">LCat1</span>,data<span class="op">=</span><span class="va">df3</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LCat1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  10  15  20  25  30  35  40  45  50  55  60  65  70  75  80  85  90  95 100 105 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1   1   1   1   1   2   6   3   1   1   7   3   3   2   2   5   1   5   1   3 </span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## A Fourth example</span></span>
<span class="r-in"><span class="co"># random lengths measured to nearest 0.01 unit</span></span>
<span class="r-in"><span class="va">df4</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>len<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">50</span>,<span class="fl">0.1</span>,<span class="fl">9.9</span><span class="op">)</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># length categories by 0.1 unit</span></span>
<span class="r-in"><span class="va">df4</span><span class="op">$</span><span class="va">LCat1</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">df4</span><span class="op">$</span><span class="va">len</span>,w<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">LCat1</span>,data<span class="op">=</span><span class="va">df4</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LCat1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.1 0.7 1.2 1.8   2 2.2 2.3 2.7 2.9   3 3.1 3.2 3.3 3.4 3.6 3.9   4 4.2 4.3 4.4 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1   1   2   1   1   1   1   2   1   1   1   1   1   2   1   3   1   1   2   1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4.5 4.7 4.8   5 5.1 5.3 5.6 6.1 6.4 6.6 6.7 6.8 7.4 7.7 8.2 8.4 8.8 8.9 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2   2   1   1   1   1   3   1   1   1   2   1   1   1   1   1   2   1 </span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># length categories by 0.1 unit, but without missing categories</span></span>
<span class="r-in"><span class="va">df4</span><span class="op">$</span><span class="va">LCat2</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">df4</span><span class="op">$</span><span class="va">len</span>,w<span class="op">=</span><span class="fl">0.1</span>,as.fact<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">LCat2</span>,data<span class="op">=</span><span class="va">df4</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LCat2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9   1 1.1 1.2 1.3 1.4 1.5 1.6 1.7 1.8 1.9   2 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1   0   0   0   0   0   1   0   0   0   0   2   0   0   0   0   0   1   0   1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2.1 2.2 2.3 2.4 2.5 2.6 2.7 2.8 2.9   3 3.1 3.2 3.3 3.4 3.5 3.6 3.7 3.8 3.9   4 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   0   1   1   0   0   0   2   0   1   1   1   1   1   2   0   1   0   0   3   1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4.1 4.2 4.3 4.4 4.5 4.6 4.7 4.8 4.9   5 5.1 5.2 5.3 5.4 5.5 5.6 5.7 5.8 5.9   6 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   0   1   2   1   2   0   2   1   0   1   1   0   1   0   0   3   0   0   0   0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6.1 6.2 6.3 6.4 6.5 6.6 6.7 6.8 6.9   7 7.1 7.2 7.3 7.4 7.5 7.6 7.7 7.8 7.9   8 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1   0   0   1   0   1   2   1   0   0   0   0   0   1   0   0   1   0   0   0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8.1 8.2 8.3 8.4 8.5 8.6 8.7 8.8 8.9 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   0   1   0   1   0   0   0   2   1 </span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># length categories by 2 unit</span></span>
<span class="r-in"><span class="va">df4</span><span class="op">$</span><span class="va">LCat3</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">df4</span><span class="op">$</span><span class="va">len</span>,w<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">LCat3</span>,data<span class="op">=</span><span class="va">df4</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LCat3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  0  2  4  6  8 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5 16 16  8  5 </span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## A Fifth example -- with real data</span></span>
<span class="r-in"><span class="co"># remove variables with "anu" and "radcap" just for simplicity</span></span>
<span class="r-in"><span class="va">smb1</span> <span class="op">&lt;-</span> <span class="va">smb2</span> <span class="op">&lt;-</span> <span class="va">SMBassWB</span><span class="op">[</span>,<span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">8</span><span class="op">:</span><span class="fl">20</span><span class="op">)</span><span class="op">]</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># 10 mm length classes - in default LCat variable</span></span>
<span class="r-in"><span class="va">smb1</span><span class="op">$</span><span class="va">LCat10</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">smb1</span><span class="op">$</span><span class="va">lencap</span>,w<span class="op">=</span><span class="fl">10</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">smb1</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   species lake gear yearcap fish agecap lencap LCat10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     SMB   WB    E    1988    5      1     71     70</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     SMB   WB    E    1988    3      1     64     60</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     SMB   WB    E    1988    2      1     57     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     SMB   WB    E    1988    4      1     68     60</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     SMB   WB    E    1988    6      1     72     70</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     SMB   WB    E    1988    7      1     80     80</span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">LCat10</span>,data<span class="op">=</span><span class="va">smb1</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LCat10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  50  60  70  80  90 100 110 120 130 140 150 160 170 180 190 200 210 220 230 240 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3   4   7   5   7  20  21  23  23  23  35  22   7  12  21  21  23  15  19  18 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 250 260 270 280 290 300 310 320 330 340 360 440 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  19  23  17  22  17   4   4   4   2   1   2   1 </span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Same as previous but returned as factor so levels with no fish still seen</span></span>
<span class="r-in"><span class="va">smb1</span><span class="op">$</span><span class="va">LCat10A</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">smb1</span><span class="op">$</span><span class="va">lencap</span>,w<span class="op">=</span><span class="fl">10</span>,as.fact<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">smb1</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   species lake gear yearcap fish agecap lencap LCat10 LCat10A</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     SMB   WB    E    1988    5      1     71     70      70</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     SMB   WB    E    1988    3      1     64     60      60</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     SMB   WB    E    1988    2      1     57     50      50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     SMB   WB    E    1988    4      1     68     60      60</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     SMB   WB    E    1988    6      1     72     70      70</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     SMB   WB    E    1988    7      1     80     80      80</span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">LCat10A</span>,data<span class="op">=</span><span class="va">smb1</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LCat10A</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  50  60  70  80  90 100 110 120 130 140 150 160 170 180 190 200 210 220 230 240 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3   4   7   5   7  20  21  23  23  23  35  22   7  12  21  21  23  15  19  18 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 250 260 270 280 290 300 310 320 330 340 350 360 370 380 390 400 410 420 430 440 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  19  23  17  22  17   4   4   4   2   1   0   2   0   0   0   0   0   0   0   1 </span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Same as previous but returned as a factor with unused levels dropped</span></span>
<span class="r-in"><span class="va">smb1</span><span class="op">$</span><span class="va">LCat10B</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">smb1</span><span class="op">$</span><span class="va">lencap</span>,w<span class="op">=</span><span class="fl">10</span>,as.fact<span class="op">=</span><span class="cn">TRUE</span>,droplevels<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">smb1</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   species lake gear yearcap fish agecap lencap LCat10 LCat10A LCat10B</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     SMB   WB    E    1988    5      1     71     70      70      70</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     SMB   WB    E    1988    3      1     64     60      60      60</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     SMB   WB    E    1988    2      1     57     50      50      50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     SMB   WB    E    1988    4      1     68     60      60      60</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     SMB   WB    E    1988    6      1     72     70      70      70</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     SMB   WB    E    1988    7      1     80     80      80      80</span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">LCat10B</span>,data<span class="op">=</span><span class="va">smb1</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LCat10B</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  50  60  70  80  90 100 110 120 130 140 150 160 170 180 190 200 210 220 230 240 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3   4   7   5   7  20  21  23  23  23  35  22   7  12  21  21  23  15  19  18 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 250 260 270 280 290 300 310 320 330 340 360 440 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  19  23  17  22  17   4   4   4   2   1   2   1 </span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># 25 mm length classes - in custom variable name</span></span>
<span class="r-in"><span class="va">smb1</span><span class="op">$</span><span class="va">LCat25</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">smb1</span><span class="op">$</span><span class="va">lencap</span>,w<span class="op">=</span><span class="fl">25</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">smb1</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   species lake gear yearcap fish agecap lencap LCat10 LCat10A LCat10B LCat25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     SMB   WB    E    1988    5      1     71     70      70      70     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     SMB   WB    E    1988    3      1     64     60      60      60     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     SMB   WB    E    1988    2      1     57     50      50      50     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     SMB   WB    E    1988    4      1     68     60      60      60     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     SMB   WB    E    1988    6      1     72     70      70      70     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     SMB   WB    E    1988    7      1     80     80      80      80     75</span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">LCat25</span>,data<span class="op">=</span><span class="va">smb1</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LCat25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  50  75 100 125 150 175 200 225 250 275 300 325 350 425 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  12  14  52  58  60  37  51  45  48  50   9   6   2   1 </span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># using values from psdVal for Smallmouth Bass</span></span>
<span class="r-in"><span class="va">smb1</span><span class="op">$</span><span class="va">PSDCat1</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">smb1</span><span class="op">$</span><span class="va">lencap</span>,breaks<span class="op">=</span><span class="fu"><a href="psdVal.html">psdVal</a></span><span class="op">(</span><span class="st">"Smallmouth Bass"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">smb1</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   species lake gear yearcap fish agecap lencap LCat10 LCat10A LCat10B LCat25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     SMB   WB    E    1988    5      1     71     70      70      70     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     SMB   WB    E    1988    3      1     64     60      60      60     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     SMB   WB    E    1988    2      1     57     50      50      50     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     SMB   WB    E    1988    4      1     68     60      60      60     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     SMB   WB    E    1988    6      1     72     70      70      70     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     SMB   WB    E    1988    7      1     80     80      80      80     75</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   PSDCat1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6       0</span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">PSDCat1</span>,data<span class="op">=</span><span class="va">smb1</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSDCat1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   0 180 280 350 430 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 200 188  54   2   1 </span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># add category names</span></span>
<span class="r-in"><span class="va">smb1</span><span class="op">$</span><span class="va">PSDCat2</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">smb1</span><span class="op">$</span><span class="va">lencap</span>,breaks<span class="op">=</span><span class="fu"><a href="psdVal.html">psdVal</a></span><span class="op">(</span><span class="st">"Smallmouth Bass"</span><span class="op">)</span>,use.names<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">smb1</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   species lake gear yearcap fish agecap lencap LCat10 LCat10A LCat10B LCat25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     SMB   WB    E    1988    5      1     71     70      70      70     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     SMB   WB    E    1988    3      1     64     60      60      60     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     SMB   WB    E    1988    2      1     57     50      50      50     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     SMB   WB    E    1988    4      1     68     60      60      60     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     SMB   WB    E    1988    6      1     72     70      70      70     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     SMB   WB    E    1988    7      1     80     80      80      80     75</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   PSDCat1  PSDCat2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       0 substock</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       0 substock</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       0 substock</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       0 substock</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5       0 substock</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6       0 substock</span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">PSDCat2</span>,data<span class="op">=</span><span class="va">smb1</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSDCat2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  substock     stock   quality preferred memorable    trophy </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       200       188        54         2         1         0 </span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># same as above but drop the unused levels</span></span>
<span class="r-in"><span class="va">smb1</span><span class="op">$</span><span class="va">PSDCat2A</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">smb1</span><span class="op">$</span><span class="va">lencap</span>,breaks<span class="op">=</span><span class="fu"><a href="psdVal.html">psdVal</a></span><span class="op">(</span><span class="st">"Smallmouth Bass"</span><span class="op">)</span>,</span>
<span class="r-in">                        use.names<span class="op">=</span><span class="cn">TRUE</span>,droplevels<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">smb1</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   species lake gear yearcap fish agecap lencap LCat10 LCat10A LCat10B LCat25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     SMB   WB    E    1988    5      1     71     70      70      70     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     SMB   WB    E    1988    3      1     64     60      60      60     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     SMB   WB    E    1988    2      1     57     50      50      50     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     SMB   WB    E    1988    4      1     68     60      60      60     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     SMB   WB    E    1988    6      1     72     70      70      70     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     SMB   WB    E    1988    7      1     80     80      80      80     75</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   PSDCat1  PSDCat2 PSDCat2A</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       0 substock substock</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       0 substock substock</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       0 substock substock</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       0 substock substock</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5       0 substock substock</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6       0 substock substock</span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">PSDCat2A</span>,data<span class="op">=</span><span class="va">smb1</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSDCat2A</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  substock     stock   quality preferred memorable </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       200       188        54         2         1 </span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">smb1</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 'data.frame':	445 obs. of  14 variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ species : Factor w/ 1 level "SMB": 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ lake    : Factor w/ 1 level "WB": 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ gear    : Factor w/ 2 levels "E","T": 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ yearcap : int  1988 1988 1988 1988 1988 1988 1989 1990 1990 1990 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ fish    : num  5 3 2 4 6 7 50 482 768 428 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ agecap  : int  1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ lencap  : int  71 64 57 68 72 80 55 75 75 71 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ LCat10  : num  70 60 50 60 70 80 50 70 70 70 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ LCat10A : Factor w/ 40 levels "50","60","70",..: 3 2 1 2 3 4 1 3 3 3 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ LCat10B : Factor w/ 32 levels "50","60","70",..: 3 2 1 2 3 4 1 3 3 3 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ LCat25  : num  50 50 50 50 50 75 50 75 75 50 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ PSDCat1 : num  0 0 0 0 0 0 0 0 0 0 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ PSDCat2 : Factor w/ 6 levels "substock","stock",..: 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ PSDCat2A: Factor w/ 5 levels "substock","stock",..: 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># same as above but not returned as a factor (returned as a character)</span></span>
<span class="r-in"><span class="va">smb1</span><span class="op">$</span><span class="va">PSDcat2B</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">smb1</span><span class="op">$</span><span class="va">lencap</span>,breaks<span class="op">=</span><span class="fu"><a href="psdVal.html">psdVal</a></span><span class="op">(</span><span class="st">"Smallmouth Bass"</span><span class="op">)</span>,</span>
<span class="r-in">                        use.names<span class="op">=</span><span class="cn">TRUE</span>,as.fact<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">smb1</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 'data.frame':	445 obs. of  15 variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ species : Factor w/ 1 level "SMB": 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ lake    : Factor w/ 1 level "WB": 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ gear    : Factor w/ 2 levels "E","T": 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ yearcap : int  1988 1988 1988 1988 1988 1988 1989 1990 1990 1990 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ fish    : num  5 3 2 4 6 7 50 482 768 428 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ agecap  : int  1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ lencap  : int  71 64 57 68 72 80 55 75 75 71 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ LCat10  : num  70 60 50 60 70 80 50 70 70 70 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ LCat10A : Factor w/ 40 levels "50","60","70",..: 3 2 1 2 3 4 1 3 3 3 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ LCat10B : Factor w/ 32 levels "50","60","70",..: 3 2 1 2 3 4 1 3 3 3 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ LCat25  : num  50 50 50 50 50 75 50 75 75 50 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ PSDCat1 : num  0 0 0 0 0 0 0 0 0 0 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ PSDCat2 : Factor w/ 6 levels "substock","stock",..: 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ PSDCat2A: Factor w/ 5 levels "substock","stock",..: 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ PSDcat2B: chr  "substock" "substock" "substock" "substock" ...</span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## A Sixth example -- similar to fifth example but using the formula notation</span></span>
<span class="r-in"><span class="co"># 10 mm length classes - in default LCat variable</span></span>
<span class="r-in"><span class="va">smb2</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="op">~</span><span class="va">lencap</span>,data<span class="op">=</span><span class="va">smb2</span>,w<span class="op">=</span><span class="fl">10</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">smb2</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   species lake gear yearcap fish agecap lencap LCat</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     SMB   WB    E    1988    5      1     71   70</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     SMB   WB    E    1988    3      1     64   60</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     SMB   WB    E    1988    2      1     57   50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     SMB   WB    E    1988    4      1     68   60</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     SMB   WB    E    1988    6      1     72   70</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     SMB   WB    E    1988    7      1     80   80</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># 25 mm length classes - in custom variable name</span></span>
<span class="r-in"><span class="va">smb2</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="op">~</span><span class="va">lencap</span>,data<span class="op">=</span><span class="va">smb2</span>,w<span class="op">=</span><span class="fl">25</span>,vname<span class="op">=</span><span class="st">"LenCat25"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">smb2</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   species lake gear yearcap fish agecap lencap LCat LenCat25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     SMB   WB    E    1988    5      1     71   70       50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     SMB   WB    E    1988    3      1     64   60       50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     SMB   WB    E    1988    2      1     57   50       50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     SMB   WB    E    1988    4      1     68   60       50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     SMB   WB    E    1988    6      1     72   70       50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     SMB   WB    E    1988    7      1     80   80       75</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># using values from psdVal for Smallmouth Bass</span></span>
<span class="r-in"><span class="va">smb2</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="op">~</span><span class="va">lencap</span>,data<span class="op">=</span><span class="va">smb2</span>,breaks<span class="op">=</span><span class="fu"><a href="psdVal.html">psdVal</a></span><span class="op">(</span><span class="st">"Smallmouth Bass"</span><span class="op">)</span>,vname<span class="op">=</span><span class="st">"LenPsd"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">smb2</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   species lake gear yearcap fish agecap lencap LCat LenCat25 LenPsd</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     SMB   WB    E    1988    5      1     71   70       50      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     SMB   WB    E    1988    3      1     64   60       50      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     SMB   WB    E    1988    2      1     57   50       50      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     SMB   WB    E    1988    4      1     68   60       50      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     SMB   WB    E    1988    6      1     72   70       50      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     SMB   WB    E    1988    7      1     80   80       75      0</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># add category names</span></span>
<span class="r-in"><span class="va">smb2</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="op">~</span><span class="va">lencap</span>,data<span class="op">=</span><span class="va">smb2</span>,breaks<span class="op">=</span><span class="fu"><a href="psdVal.html">psdVal</a></span><span class="op">(</span><span class="st">"Smallmouth Bass"</span><span class="op">)</span>,vname<span class="op">=</span><span class="st">"LenPsd2"</span>,</span>
<span class="r-in">               use.names<span class="op">=</span><span class="cn">TRUE</span>,droplevels<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">smb2</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   species lake gear yearcap fish agecap lencap LCat LenCat25 LenPsd  LenPsd2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     SMB   WB    E    1988    5      1     71   70       50      0 substock</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     SMB   WB    E    1988    3      1     64   60       50      0 substock</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     SMB   WB    E    1988    2      1     57   50       50      0 substock</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     SMB   WB    E    1988    4      1     68   60       50      0 substock</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     SMB   WB    E    1988    6      1     72   70       50      0 substock</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     SMB   WB    E    1988    7      1     80   80       75      0 substock</span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">smb2</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 'data.frame':	445 obs. of  11 variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ species : Factor w/ 1 level "SMB": 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ lake    : Factor w/ 1 level "WB": 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ gear    : Factor w/ 2 levels "E","T": 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ yearcap : int  1988 1988 1988 1988 1988 1988 1989 1990 1990 1990 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ fish    : num  5 3 2 4 6 7 50 482 768 428 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ agecap  : int  1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ lencap  : int  71 64 57 68 72 80 55 75 75 71 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ LCat    : num  70 60 50 60 70 80 50 70 70 70 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ LenCat25: num  50 50 50 50 50 75 50 75 75 50 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ LenPsd  : num  0 0 0 0 0 0 0 0 0 0 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ LenPsd2 : Factor w/ 5 levels "substock","stock",..: 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Derek Ogle, Jason Doll, Powell Wheeler, Alexis Dinno.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

