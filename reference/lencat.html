<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Constructs length class/category variable. — lencat • FSA</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Constructs length class/category variable. — lencat"><meta name="description" content="Constructs a vector that contains the length class or category to which an individual belongs. Optionally, that vector can be appended to the original data frame."><meta property="og:description" content="Constructs a vector that contains the length class or category to which an individual belongs. Optionally, that vector can be appended to the original data frame."><meta property="og:image" content="https://fishr-core-team.github.io/FSA/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">FSA</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.9.6.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-demonstrations" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Demonstrations</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-demonstrations"><li><a class="dropdown-item" href="../articles/Computing_PSDs.html">Computing Proportional Size Distribution Metrics</a></li>
    <li><a class="dropdown-item" href="../articles/Computing_Relative_Weights.html">Computing Relative Weights</a></li>
    <li><a class="dropdown-item" href="../articles/Fitting_Growth_Functions.html">Fitting Growth Functions</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-explanations" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Explanations</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-explanations"><li><a class="dropdown-item" href="../articles/Growth_Function_Parameterizations.html">Growth Function Equations</a></li>
    <li><a class="dropdown-item" href="../articles/Growth_Starting_Values.html">Explaining Starting Values for Growth Functions</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../news/index.html" aria-label="See package news"><span class="fa fa-newspaper"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../index.html" aria-label="Goto FSA home"><span class="fa fa-home"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/fishR-Core-Team/FSA" aria-label="Goto FSA github page"><span class="fa fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Constructs length class/category variable.</h1>
      <small class="dont-index">Source: <a href="https://github.com/fishR-Core-Team/FSA/blob/dev/R/lencat.R" class="external-link"><code>R/lencat.R</code></a></small>
      <div class="d-none name"><code>lencat.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Constructs a vector that contains the length class or category to which an individual belongs. Optionally, that vector can be appended to the original data frame.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">lencat</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Default S3 method</span></span>
<span><span class="fu">lencat</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  w <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  startcat <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  breaks <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  right <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  use.names <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  as.fact <span class="op">=</span> <span class="va">use.names</span>,</span>
<span>  droplevels <span class="op">=</span> <span class="va">drop.levels</span>,</span>
<span>  drop.levels <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'formula'</span></span>
<span><span class="fu">lencat</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">data</span>,</span>
<span>  w <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  startcat <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  breaks <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  right <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  use.names <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  as.fact <span class="op">=</span> <span class="va">use.names</span>,</span>
<span>  droplevels <span class="op">=</span> <span class="va">drop.levels</span>,</span>
<span>  drop.levels <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  vname <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A numeric vector that contains the length measurements or a formula of the form <code>~x</code> where “x” generically represents a variable in <code>data</code> that contains length measurements. This formula can only contain one variable.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Not implemented.</p></dd>


<dt id="arg-w">w<a class="anchor" aria-label="anchor" href="#arg-w"></a></dt>
<dd><p>A single numeric that indicates the width of length categories to create. Ignored if <code>breaks</code> is not <code>NULL</code>.</p></dd>


<dt id="arg-startcat">startcat<a class="anchor" aria-label="anchor" href="#arg-startcat"></a></dt>
<dd><p>A single numeric that indicates the beginning of the first length category. Only used with <code>w</code>. See details for how this is handled when <code>NULL</code>.</p></dd>


<dt id="arg-breaks">breaks<a class="anchor" aria-label="anchor" href="#arg-breaks"></a></dt>
<dd><p>A numeric vector of lower values for the break points of the length categories.</p></dd>


<dt id="arg-right">right<a class="anchor" aria-label="anchor" href="#arg-right"></a></dt>
<dd><p>A logical that indicates if the intervals should be closed on the right (and open on the left) or vice versa.</p></dd>


<dt id="arg-use-names">use.names<a class="anchor" aria-label="anchor" href="#arg-use-names"></a></dt>
<dd><p>A logical that indicates whether the names for the values in <code>breaks</code> should be used for the levels in the new variable. Will throw a warning and then use default levels if <code>TRUE</code> but <code>names(breaks)</code> is <code>NULL</code>.</p></dd>


<dt id="arg-as-fact">as.fact<a class="anchor" aria-label="anchor" href="#arg-as-fact"></a></dt>
<dd><p>A logical that indicates that the new variable should be returned as a factor (<code>=TRUE</code>) or not (<code>=FALSE</code>; default).</p></dd>


<dt id="arg-droplevels-drop-levels">droplevels, drop.levels<a class="anchor" aria-label="anchor" href="#arg-droplevels-drop-levels"></a></dt>
<dd><p>A logical that indicates that the new variable should retain all levels indicated in <code>breaks</code> (<code>=FALSE</code>; default) or not. Ignored if <code>as.fact=FALSE</code>.</p></dd>


<dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A data.frame that minimally contains the length measurements given in the variable in the <code>formula</code>.</p></dd>


<dt id="arg-vname">vname<a class="anchor" aria-label="anchor" href="#arg-vname"></a></dt>
<dd><p>A string that contains the name for the new length class variable.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>If the formula version of the function is used, then a data.frame is returned with the a new variable, named as in <code>vname</code> (defaults to <code>LCat</code>), appended to the original data.frame. If the default version of the function is used, then a single vector is returned. The returned values will be numeric unless <code>breaks</code> is named and <code>use.names=TRUE</code> or if <code>as.fact=TRUE</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>If <code>breaks</code> is non-NULL, then <code>w</code> and <code>startcat</code> will be ignored. The vector of values in <code>breaks</code> should begin with a value smaller than the minimum observed value and end with a value larger than the maximum observed value. If the lowest break value is larger than the minimum observed value, then an error will occur. If the largest break value is smaller than the maximum observed value, then an additional break value larger than the maximum observed value will be added to <code>breaks</code> (and a warning will be sent). The values in <code>breaks</code> do not have to be equally spaced.</p>
<p>If <code>breaks=NULL</code> (the default), then the value in <code>w</code> is used to create equally spaced categories. If <code>startcat=NULL</code> (the default), then the length categories will begin with the first value less than the minimum observed value “rounded” by <code>w</code>. For example, if the minimum observed value is 67, then the first length category will be 65 if <code>w=5</code>, 60 if <code>w=10</code>, 50 if <code>w=25</code>, and 50 if <code>w=50</code>. The length categories will continue from this starting value by values of <code>w</code> until a value greater than the largest observed value in <code>x</code>. The length categories are left-inclusive and right-exclusive by default (i.e., <code>right=FALSE</code>).</p>
<p>The start of the length categories may also be set with <code>startcat</code>. The number in the <code>startcat</code> argument should be less than the smallest value in <code>x</code>. Additionally, the number of decimals in <code>startcat</code> should not be more than the number of decimals in <code>w</code> (e.g., <code>startcat=0.4</code> and <code>w=1</code> will result in an error).</p>
<p>One may want to convert apparent numeric values to factor values if some of the length categories are missing (e.g., if factor values are used, for example, then tables of the length category values will have values for all length categories; i.e., it will have zeros for the length categories that are missing). The numeric values can be converted to factors by including <code>as.fact</code>. See the “real data” example.</p>
<p>The observed values in <code>x</code> should be rounded to the appropriate number of decimals to avoid misplacement of individuals into incorrect length categories due to issues with machine-precision (see discussion in <code>all.equal</code>.)</p>
    </div>
    <div class="section level2">
    <h2 id="ifar-chapter">IFAR Chapter<a class="anchor" aria-label="anchor" href="#ifar-chapter"></a></h2>
    <p>2-Data Manipulation.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Ogle, D.H. 2016. <a href="https://fishr-core-team.github.io/fishR/pages/books.html#introductory-fisheries-analyses-with-r" class="external-link">Introductory Fisheries Analyses with R</a>. Chapman &amp; Hall/CRC, Boca Raton, FL.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Derek H. Ogle, <a href="mailto:DerekOgle51@gmail.com">DerekOgle51@gmail.com</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Create random lengths measured to nearest 0.1 unit</span></span></span>
<span class="r-in"><span><span class="va">df1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>len<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">50</span>,<span class="fl">0.1</span>,<span class="fl">9.9</span><span class="op">)</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create length categories by 0.1 unit</span></span></span>
<span class="r-in"><span><span class="va">df1</span><span class="op">$</span><span class="va">LCat1</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">df1</span><span class="op">$</span><span class="va">len</span>,w<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">LCat1</span>,data<span class="op">=</span><span class="va">df1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LCat1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.2 0.9 1.3 1.5 1.6 1.7 2.1 2.8 2.9   3 3.3 3.8 4.1 4.2 4.4 4.5 4.6 4.9 5.1 5.7 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1   1   2   1   1   2   1   1   2   2   1   1   1   1   1   2   1   1   2   1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6.2 6.3 6.4 7.1 7.2 7.3 7.6 7.7 7.9 8.3 8.6 8.7 9.3 9.8 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1   2   1   2   1   2   1   1   1   5   2   2   1   2 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># length categories by 0.2 units</span></span></span>
<span class="r-in"><span><span class="va">df1</span><span class="op">$</span><span class="va">LCat2</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">df1</span><span class="op">$</span><span class="va">len</span>,w<span class="op">=</span><span class="fl">0.2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">LCat2</span>,data<span class="op">=</span><span class="va">df1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LCat2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.2 0.8 1.2 1.4 1.6   2 2.8   3 3.2 3.8   4 4.2 4.4 4.6 4.8   5 5.6 6.2 6.4   7 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1   1   2   1   3   1   3   2   1   1   1   1   3   1   1   2   1   3   1   2 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7.2 7.6 7.8 8.2 8.6 9.2 9.8 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3   2   1   5   4   1   2 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># length categories by 0.2 units starting at 0.1</span></span></span>
<span class="r-in"><span><span class="va">df1</span><span class="op">$</span><span class="va">LCat3</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">df1</span><span class="op">$</span><span class="va">len</span>,w<span class="op">=</span><span class="fl">0.2</span>,startcat<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">LCat3</span>,data<span class="op">=</span><span class="va">df1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LCat3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.1 0.9 1.3 1.5 1.7 2.1 2.7 2.9 3.3 3.7 4.1 4.3 4.5 4.9 5.1 5.7 6.1 6.3 7.1 7.3 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1   1   2   2   2   1   1   4   1   1   2   1   3   1   2   1   1   3   3   2 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7.5 7.7 7.9 8.3 8.5 8.7 9.3 9.7 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1   1   1   5   2   2   1   2 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># length categories as set by breaks</span></span></span>
<span class="r-in"><span><span class="va">df1</span><span class="op">$</span><span class="va">LCat4</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">df1</span><span class="op">$</span><span class="va">len</span>,breaks<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">2</span>,<span class="fl">4</span>,<span class="fl">7</span>,<span class="fl">10</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">LCat4</span>,data<span class="op">=</span><span class="va">df1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LCat4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  0  2  4  7 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8  8 14 20 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## A Second example</span></span></span>
<span class="r-in"><span><span class="co"># random lengths measured to nearest unit</span></span></span>
<span class="r-in"><span><span class="va">df2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>len<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">50</span>,<span class="fl">10</span>,<span class="fl">117</span><span class="op">)</span>,<span class="fl">0</span><span class="op">)</span><span class="op">)</span>    </span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># length categories by 5 units</span></span></span>
<span class="r-in"><span><span class="va">df2</span><span class="op">$</span><span class="va">LCat1</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">df2</span><span class="op">$</span><span class="va">len</span>,w<span class="op">=</span><span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">LCat1</span>,data<span class="op">=</span><span class="va">df2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LCat1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  10  15  20  25  30  35  40  45  50  65  70  75  80  85  90  95 100 105 110 115 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3   4   3   2   1   1   2   2   4   3   2   1   2   2   3   4   2   4   4   1 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># length categories by 5 units starting at 7</span></span></span>
<span class="r-in"><span><span class="va">df2</span><span class="op">$</span><span class="va">LCat2</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">df2</span><span class="op">$</span><span class="va">len</span>,w<span class="op">=</span><span class="fl">5</span>,startcat<span class="op">=</span><span class="fl">7</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">LCat2</span>,data<span class="op">=</span><span class="va">df2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LCat2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   7  12  17  22  27  32  37  42  47  52  62  67  72  77  82  87  92  97 102 107 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2   2   5   1   2   1   1   3   3   2   2   1   2   1   3   1   5   2   3   6 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 112 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># length categories by 10 units</span></span></span>
<span class="r-in"><span><span class="va">df2</span><span class="op">$</span><span class="va">LCat3</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">df2</span><span class="op">$</span><span class="va">len</span>,w<span class="op">=</span><span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">LCat3</span>,data<span class="op">=</span><span class="va">df2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LCat3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  10  20  30  40  50  60  70  80  90 100 110 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   7   5   2   4   4   3   3   4   7   6   5 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># length categories by 10 units starting at 5</span></span></span>
<span class="r-in"><span><span class="va">df2</span><span class="op">$</span><span class="va">LCat4</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">df2</span><span class="op">$</span><span class="va">len</span>,w<span class="op">=</span><span class="fl">10</span>,startcat<span class="op">=</span><span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">LCat4</span>,data<span class="op">=</span><span class="va">df2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LCat4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5  15  25  35  45  65  75  85  95 105 115 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3   7   3   3   6   5   3   5   6   8   1 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># length categories as set by breaks</span></span></span>
<span class="r-in"><span><span class="va">df2</span><span class="op">$</span><span class="va">LCat5</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">df2</span><span class="op">$</span><span class="va">len</span>,breaks<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">50</span>,<span class="fl">75</span>,<span class="fl">150</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">LCat5</span>,data<span class="op">=</span><span class="va">df2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LCat5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5 50 75 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18  9 23 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## A Third example</span></span></span>
<span class="r-in"><span><span class="co"># random lengths measured to nearest 0.1 unit</span></span></span>
<span class="r-in"><span><span class="va">df3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>len<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">50</span>,<span class="fl">10</span>,<span class="fl">117</span><span class="op">)</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># length categories by 5 units</span></span></span>
<span class="r-in"><span><span class="va">df3</span><span class="op">$</span><span class="va">LCat1</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">df3</span><span class="op">$</span><span class="va">len</span>,w<span class="op">=</span><span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">LCat1</span>,data<span class="op">=</span><span class="va">df3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LCat1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  10  15  20  25  30  35  40  45  50  55  60  65  70  75  80  85  90  95 100 105 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1   1   1   1   1   2   6   3   1   1   7   3   3   2   2   5   1   5   1   3 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## A Fourth example</span></span></span>
<span class="r-in"><span><span class="co"># random lengths measured to nearest 0.01 unit</span></span></span>
<span class="r-in"><span><span class="va">df4</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>len<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">50</span>,<span class="fl">0.1</span>,<span class="fl">9.9</span><span class="op">)</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># length categories by 0.1 unit</span></span></span>
<span class="r-in"><span><span class="va">df4</span><span class="op">$</span><span class="va">LCat1</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">df4</span><span class="op">$</span><span class="va">len</span>,w<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">LCat1</span>,data<span class="op">=</span><span class="va">df4</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LCat1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.1 0.7 1.2 1.8   2 2.2 2.3 2.7 2.9   3 3.1 3.2 3.3 3.4 3.6 3.9   4 4.2 4.3 4.4 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1   1   2   1   1   1   1   2   1   1   1   1   1   2   1   3   1   1   2   1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4.5 4.7 4.8   5 5.1 5.3 5.6 6.1 6.4 6.6 6.7 6.8 7.4 7.7 8.2 8.4 8.8 8.9 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2   2   1   1   1   1   3   1   1   1   2   1   1   1   1   1   2   1 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># length categories by 0.1 unit, but without missing categories</span></span></span>
<span class="r-in"><span><span class="va">df4</span><span class="op">$</span><span class="va">LCat2</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">df4</span><span class="op">$</span><span class="va">len</span>,w<span class="op">=</span><span class="fl">0.1</span>,as.fact<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">LCat2</span>,data<span class="op">=</span><span class="va">df4</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LCat2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9   1 1.1 1.2 1.3 1.4 1.5 1.6 1.7 1.8 1.9   2 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1   0   0   0   0   0   1   0   0   0   0   2   0   0   0   0   0   1   0   1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2.1 2.2 2.3 2.4 2.5 2.6 2.7 2.8 2.9   3 3.1 3.2 3.3 3.4 3.5 3.6 3.7 3.8 3.9   4 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   0   1   1   0   0   0   2   0   1   1   1   1   1   2   0   1   0   0   3   1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4.1 4.2 4.3 4.4 4.5 4.6 4.7 4.8 4.9   5 5.1 5.2 5.3 5.4 5.5 5.6 5.7 5.8 5.9   6 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   0   1   2   1   2   0   2   1   0   1   1   0   1   0   0   3   0   0   0   0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6.1 6.2 6.3 6.4 6.5 6.6 6.7 6.8 6.9   7 7.1 7.2 7.3 7.4 7.5 7.6 7.7 7.8 7.9   8 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1   0   0   1   0   1   2   1   0   0   0   0   0   1   0   0   1   0   0   0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8.1 8.2 8.3 8.4 8.5 8.6 8.7 8.8 8.9 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   0   1   0   1   0   0   0   2   1 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># length categories by 2 unit</span></span></span>
<span class="r-in"><span><span class="va">df4</span><span class="op">$</span><span class="va">LCat3</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">df4</span><span class="op">$</span><span class="va">len</span>,w<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">LCat3</span>,data<span class="op">=</span><span class="va">df4</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LCat3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  0  2  4  6  8 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5 16 16  8  5 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## A Fifth example -- with real data</span></span></span>
<span class="r-in"><span><span class="co"># remove variables with "anu" and "radcap" just for simplicity</span></span></span>
<span class="r-in"><span><span class="va">smb1</span> <span class="op">&lt;-</span> <span class="va">smb2</span> <span class="op">&lt;-</span> <span class="va">SMBassWB</span><span class="op">[</span>,<span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">8</span><span class="op">:</span><span class="fl">20</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># 10 mm length classes - in default LCat variable</span></span></span>
<span class="r-in"><span><span class="va">smb1</span><span class="op">$</span><span class="va">LCat10</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">smb1</span><span class="op">$</span><span class="va">lencap</span>,w<span class="op">=</span><span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">smb1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   species lake gear yearcap fish agecap lencap LCat10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     SMB   WB    E    1988    5      1     71     70</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     SMB   WB    E    1988    3      1     64     60</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     SMB   WB    E    1988    2      1     57     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     SMB   WB    E    1988    4      1     68     60</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     SMB   WB    E    1988    6      1     72     70</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     SMB   WB    E    1988    7      1     80     80</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">LCat10</span>,data<span class="op">=</span><span class="va">smb1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LCat10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  50  60  70  80  90 100 110 120 130 140 150 160 170 180 190 200 210 220 230 240 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3   4   7   5   7  20  21  23  23  23  35  22   7  12  21  21  23  15  19  18 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 250 260 270 280 290 300 310 320 330 340 360 440 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  19  23  17  22  17   4   4   4   2   1   2   1 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Same as previous but returned as factor so levels with no fish still seen</span></span></span>
<span class="r-in"><span><span class="va">smb1</span><span class="op">$</span><span class="va">LCat10A</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">smb1</span><span class="op">$</span><span class="va">lencap</span>,w<span class="op">=</span><span class="fl">10</span>,as.fact<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">smb1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   species lake gear yearcap fish agecap lencap LCat10 LCat10A</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     SMB   WB    E    1988    5      1     71     70      70</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     SMB   WB    E    1988    3      1     64     60      60</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     SMB   WB    E    1988    2      1     57     50      50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     SMB   WB    E    1988    4      1     68     60      60</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     SMB   WB    E    1988    6      1     72     70      70</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     SMB   WB    E    1988    7      1     80     80      80</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">LCat10A</span>,data<span class="op">=</span><span class="va">smb1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LCat10A</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  50  60  70  80  90 100 110 120 130 140 150 160 170 180 190 200 210 220 230 240 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3   4   7   5   7  20  21  23  23  23  35  22   7  12  21  21  23  15  19  18 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 250 260 270 280 290 300 310 320 330 340 350 360 370 380 390 400 410 420 430 440 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  19  23  17  22  17   4   4   4   2   1   0   2   0   0   0   0   0   0   0   1 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Same as previous but returned as a factor with unused levels dropped</span></span></span>
<span class="r-in"><span><span class="va">smb1</span><span class="op">$</span><span class="va">LCat10B</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">smb1</span><span class="op">$</span><span class="va">lencap</span>,w<span class="op">=</span><span class="fl">10</span>,as.fact<span class="op">=</span><span class="cn">TRUE</span>,droplevels<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">smb1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   species lake gear yearcap fish agecap lencap LCat10 LCat10A LCat10B</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     SMB   WB    E    1988    5      1     71     70      70      70</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     SMB   WB    E    1988    3      1     64     60      60      60</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     SMB   WB    E    1988    2      1     57     50      50      50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     SMB   WB    E    1988    4      1     68     60      60      60</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     SMB   WB    E    1988    6      1     72     70      70      70</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     SMB   WB    E    1988    7      1     80     80      80      80</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">LCat10B</span>,data<span class="op">=</span><span class="va">smb1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LCat10B</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  50  60  70  80  90 100 110 120 130 140 150 160 170 180 190 200 210 220 230 240 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3   4   7   5   7  20  21  23  23  23  35  22   7  12  21  21  23  15  19  18 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 250 260 270 280 290 300 310 320 330 340 360 440 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  19  23  17  22  17   4   4   4   2   1   2   1 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># 25 mm length classes - in custom variable name</span></span></span>
<span class="r-in"><span><span class="va">smb1</span><span class="op">$</span><span class="va">LCat25</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">smb1</span><span class="op">$</span><span class="va">lencap</span>,w<span class="op">=</span><span class="fl">25</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">smb1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   species lake gear yearcap fish agecap lencap LCat10 LCat10A LCat10B LCat25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     SMB   WB    E    1988    5      1     71     70      70      70     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     SMB   WB    E    1988    3      1     64     60      60      60     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     SMB   WB    E    1988    2      1     57     50      50      50     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     SMB   WB    E    1988    4      1     68     60      60      60     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     SMB   WB    E    1988    6      1     72     70      70      70     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     SMB   WB    E    1988    7      1     80     80      80      80     75</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">LCat25</span>,data<span class="op">=</span><span class="va">smb1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LCat25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  50  75 100 125 150 175 200 225 250 275 300 325 350 425 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  12  14  52  58  60  37  51  45  48  50   9   6   2   1 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># using values from psdVal for Smallmouth Bass</span></span></span>
<span class="r-in"><span><span class="va">smb1</span><span class="op">$</span><span class="va">PSDCat1</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">smb1</span><span class="op">$</span><span class="va">lencap</span>,breaks<span class="op">=</span><span class="fu"><a href="psdVal.html">psdVal</a></span><span class="op">(</span><span class="st">"Smallmouth Bass"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">smb1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   species lake gear yearcap fish agecap lencap LCat10 LCat10A LCat10B LCat25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     SMB   WB    E    1988    5      1     71     70      70      70     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     SMB   WB    E    1988    3      1     64     60      60      60     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     SMB   WB    E    1988    2      1     57     50      50      50     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     SMB   WB    E    1988    4      1     68     60      60      60     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     SMB   WB    E    1988    6      1     72     70      70      70     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     SMB   WB    E    1988    7      1     80     80      80      80     75</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   PSDCat1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6       0</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">PSDCat1</span>,data<span class="op">=</span><span class="va">smb1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSDCat1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   0 180 280 350 430 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 200 188  54   2   1 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># add category names</span></span></span>
<span class="r-in"><span><span class="va">smb1</span><span class="op">$</span><span class="va">PSDCat2</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">smb1</span><span class="op">$</span><span class="va">lencap</span>,breaks<span class="op">=</span><span class="fu"><a href="psdVal.html">psdVal</a></span><span class="op">(</span><span class="st">"Smallmouth Bass"</span><span class="op">)</span>,use.names<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">smb1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   species lake gear yearcap fish agecap lencap LCat10 LCat10A LCat10B LCat25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     SMB   WB    E    1988    5      1     71     70      70      70     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     SMB   WB    E    1988    3      1     64     60      60      60     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     SMB   WB    E    1988    2      1     57     50      50      50     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     SMB   WB    E    1988    4      1     68     60      60      60     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     SMB   WB    E    1988    6      1     72     70      70      70     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     SMB   WB    E    1988    7      1     80     80      80      80     75</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   PSDCat1  PSDCat2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       0 substock</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       0 substock</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       0 substock</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       0 substock</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5       0 substock</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6       0 substock</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">PSDCat2</span>,data<span class="op">=</span><span class="va">smb1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSDCat2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  substock     stock   quality preferred memorable    trophy </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       200       188        54         2         1         0 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># same as above but drop the unused levels</span></span></span>
<span class="r-in"><span><span class="va">smb1</span><span class="op">$</span><span class="va">PSDCat2A</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">smb1</span><span class="op">$</span><span class="va">lencap</span>,breaks<span class="op">=</span><span class="fu"><a href="psdVal.html">psdVal</a></span><span class="op">(</span><span class="st">"Smallmouth Bass"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                        use.names<span class="op">=</span><span class="cn">TRUE</span>,droplevels<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">smb1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   species lake gear yearcap fish agecap lencap LCat10 LCat10A LCat10B LCat25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     SMB   WB    E    1988    5      1     71     70      70      70     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     SMB   WB    E    1988    3      1     64     60      60      60     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     SMB   WB    E    1988    2      1     57     50      50      50     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     SMB   WB    E    1988    4      1     68     60      60      60     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     SMB   WB    E    1988    6      1     72     70      70      70     50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     SMB   WB    E    1988    7      1     80     80      80      80     75</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   PSDCat1  PSDCat2 PSDCat2A</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       0 substock substock</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       0 substock substock</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       0 substock substock</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       0 substock substock</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5       0 substock substock</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6       0 substock substock</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">PSDCat2A</span>,data<span class="op">=</span><span class="va">smb1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSDCat2A</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  substock     stock   quality preferred memorable </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       200       188        54         2         1 </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">smb1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 'data.frame':	445 obs. of  14 variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ species : Factor w/ 1 level "SMB": 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ lake    : Factor w/ 1 level "WB": 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ gear    : Factor w/ 2 levels "E","T": 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ yearcap : int  1988 1988 1988 1988 1988 1988 1989 1990 1990 1990 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ fish    : num  5 3 2 4 6 7 50 482 768 428 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ agecap  : int  1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ lencap  : int  71 64 57 68 72 80 55 75 75 71 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ LCat10  : num  70 60 50 60 70 80 50 70 70 70 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ LCat10A : Factor w/ 40 levels "50","60","70",..: 3 2 1 2 3 4 1 3 3 3 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ LCat10B : Factor w/ 32 levels "50","60","70",..: 3 2 1 2 3 4 1 3 3 3 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ LCat25  : num  50 50 50 50 50 75 50 75 75 50 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ PSDCat1 : num  0 0 0 0 0 0 0 0 0 0 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ PSDCat2 : Factor w/ 6 levels "substock","stock",..: 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ PSDCat2A: Factor w/ 5 levels "substock","stock",..: 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># same as above but not returned as a factor (returned as a character)</span></span></span>
<span class="r-in"><span><span class="va">smb1</span><span class="op">$</span><span class="va">PSDcat2B</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="va">smb1</span><span class="op">$</span><span class="va">lencap</span>,breaks<span class="op">=</span><span class="fu"><a href="psdVal.html">psdVal</a></span><span class="op">(</span><span class="st">"Smallmouth Bass"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                        use.names<span class="op">=</span><span class="cn">TRUE</span>,as.fact<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">smb1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 'data.frame':	445 obs. of  15 variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ species : Factor w/ 1 level "SMB": 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ lake    : Factor w/ 1 level "WB": 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ gear    : Factor w/ 2 levels "E","T": 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ yearcap : int  1988 1988 1988 1988 1988 1988 1989 1990 1990 1990 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ fish    : num  5 3 2 4 6 7 50 482 768 428 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ agecap  : int  1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ lencap  : int  71 64 57 68 72 80 55 75 75 71 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ LCat10  : num  70 60 50 60 70 80 50 70 70 70 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ LCat10A : Factor w/ 40 levels "50","60","70",..: 3 2 1 2 3 4 1 3 3 3 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ LCat10B : Factor w/ 32 levels "50","60","70",..: 3 2 1 2 3 4 1 3 3 3 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ LCat25  : num  50 50 50 50 50 75 50 75 75 50 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ PSDCat1 : num  0 0 0 0 0 0 0 0 0 0 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ PSDCat2 : Factor w/ 6 levels "substock","stock",..: 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ PSDCat2A: Factor w/ 5 levels "substock","stock",..: 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ PSDcat2B: chr  "substock" "substock" "substock" "substock" ...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## A Sixth example -- similar to fifth example but using the formula notation</span></span></span>
<span class="r-in"><span><span class="co"># 10 mm length classes - in default LCat variable</span></span></span>
<span class="r-in"><span><span class="va">smb2</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="op">~</span><span class="va">lencap</span>,data<span class="op">=</span><span class="va">smb2</span>,w<span class="op">=</span><span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">smb2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   species lake gear yearcap fish agecap lencap LCat</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     SMB   WB    E    1988    5      1     71   70</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     SMB   WB    E    1988    3      1     64   60</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     SMB   WB    E    1988    2      1     57   50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     SMB   WB    E    1988    4      1     68   60</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     SMB   WB    E    1988    6      1     72   70</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     SMB   WB    E    1988    7      1     80   80</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># 25 mm length classes - in custom variable name</span></span></span>
<span class="r-in"><span><span class="va">smb2</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="op">~</span><span class="va">lencap</span>,data<span class="op">=</span><span class="va">smb2</span>,w<span class="op">=</span><span class="fl">25</span>,vname<span class="op">=</span><span class="st">"LenCat25"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">smb2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   species lake gear yearcap fish agecap lencap LCat LenCat25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     SMB   WB    E    1988    5      1     71   70       50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     SMB   WB    E    1988    3      1     64   60       50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     SMB   WB    E    1988    2      1     57   50       50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     SMB   WB    E    1988    4      1     68   60       50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     SMB   WB    E    1988    6      1     72   70       50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     SMB   WB    E    1988    7      1     80   80       75</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># using values from psdVal for Smallmouth Bass</span></span></span>
<span class="r-in"><span><span class="va">smb2</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="op">~</span><span class="va">lencap</span>,data<span class="op">=</span><span class="va">smb2</span>,breaks<span class="op">=</span><span class="fu"><a href="psdVal.html">psdVal</a></span><span class="op">(</span><span class="st">"Smallmouth Bass"</span><span class="op">)</span>,vname<span class="op">=</span><span class="st">"LenPsd"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">smb2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   species lake gear yearcap fish agecap lencap LCat LenCat25 LenPsd</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     SMB   WB    E    1988    5      1     71   70       50      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     SMB   WB    E    1988    3      1     64   60       50      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     SMB   WB    E    1988    2      1     57   50       50      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     SMB   WB    E    1988    4      1     68   60       50      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     SMB   WB    E    1988    6      1     72   70       50      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     SMB   WB    E    1988    7      1     80   80       75      0</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># add category names</span></span></span>
<span class="r-in"><span><span class="va">smb2</span> <span class="op">&lt;-</span> <span class="fu">lencat</span><span class="op">(</span><span class="op">~</span><span class="va">lencap</span>,data<span class="op">=</span><span class="va">smb2</span>,breaks<span class="op">=</span><span class="fu"><a href="psdVal.html">psdVal</a></span><span class="op">(</span><span class="st">"Smallmouth Bass"</span><span class="op">)</span>,vname<span class="op">=</span><span class="st">"LenPsd2"</span>,</span></span>
<span class="r-in"><span>               use.names<span class="op">=</span><span class="cn">TRUE</span>,droplevels<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">smb2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   species lake gear yearcap fish agecap lencap LCat LenCat25 LenPsd  LenPsd2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     SMB   WB    E    1988    5      1     71   70       50      0 substock</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     SMB   WB    E    1988    3      1     64   60       50      0 substock</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     SMB   WB    E    1988    2      1     57   50       50      0 substock</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     SMB   WB    E    1988    4      1     68   60       50      0 substock</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     SMB   WB    E    1988    6      1     72   70       50      0 substock</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     SMB   WB    E    1988    7      1     80   80       75      0 substock</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">smb2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 'data.frame':	445 obs. of  11 variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ species : Factor w/ 1 level "SMB": 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ lake    : Factor w/ 1 level "WB": 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ gear    : Factor w/ 2 levels "E","T": 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ yearcap : int  1988 1988 1988 1988 1988 1988 1989 1990 1990 1990 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ fish    : num  5 3 2 4 6 7 50 482 768 428 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ agecap  : int  1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ lencap  : int  71 64 57 68 72 80 55 75 75 71 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ LCat    : num  70 60 50 60 70 80 50 70 70 70 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ LenCat25: num  50 50 50 50 50 75 50 75 75 50 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ LenPsd  : num  0 0 0 0 0 0 0 0 0 0 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ LenPsd2 : Factor w/ 5 levels "substock","stock",..: 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="http://derekogle.com" class="external-link">Derek H. Ogle</a>, Jason C. Doll, A. Powell Wheeler, Alexis Dinno.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.9000.</p>
</div>

    </footer></div>





  </body></html>

