<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Expands a length frequency based on a subsample. — expandLenFreq • FSA</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Expands a length frequency based on a subsample. — expandLenFreq" />
<meta property="og:description" content="Creates a vector of lengths for the individuals not measured based on the lengths measured in a subsample of individuals." />
<meta property="og:image" content="http://derekogle.com/FSA/logo.png" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">FSA</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.8.26</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-2x"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/droglenc/FSA">
    <span class="fa fa-github fa-2x"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Expands a length frequency based on a subsample.</h1>
    <small class="dont-index">Source: <a href='https://github.com/droglenc/FSA/blob/master/R/expandLenFreq.R'><code>R/expandLenFreq.R</code></a></small>
    <div class="hidden name"><code>expandLenFreq.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Creates a vector of lengths for the individuals not measured based on the lengths measured in a subsample of individuals.</p>
    </div>

    <pre class="usage"><span class='fu'>expandLenFreq</span>(<span class='no'>x</span>, <span class='no'>w</span>, <span class='no'>additional</span>, <span class='kw'>startcat</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>total</span> <span class='kw'>=</span> <span class='no'>additional</span> +
  <span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span>(<span class='no'>x</span>), <span class='kw'>decimals</span> <span class='kw'>=</span> <span class='no'>decs</span>$<span class='no'>wdec</span>, <span class='kw'>show.summary</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='no'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>A numeric vector of length measurements.</p></td>
    </tr>
    <tr>
      <th>w</th>
      <td><p>A number that indicates the width of length classes to create.</p></td>
    </tr>
    <tr>
      <th>additional</th>
      <td><p>The number of individuals that were not measured in the sample (for which measurements should be determined).</p></td>
    </tr>
    <tr>
      <th>startcat</th>
      <td><p>A number that indicates the beginning of the first length-class.</p></td>
    </tr>
    <tr>
      <th>total</th>
      <td><p>The total number of individuals in the sample (including those that were measured in the subsample).</p></td>
    </tr>
    <tr>
      <th>decimals</th>
      <td><p>A number that indicates the number of decimals used in the output vector of estimated lengths.</p></td>
    </tr>
    <tr>
      <th>show.summary</th>
      <td><p>A logical that indicates whether a summary of the process should be shown at the end.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Optional arguments to be passed to <code>lencat</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Returns a vector that consists of measurements for the non-measured individuals in the entire sample.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Creates a vector of lengths for the individuals not measured based on the lengths measured in a subsample of individuals. Length categories are created first that begin with the value in <code>startcat</code> (or the minimum observed value by default) and continue by values of <code>w</code> until a category value greater than the largest observed length in <code>x</code>. Categories of different widths are not allowed.</p>
<p>The resulting &#8220;expanded&#8221; lengths are created by allocating individuals to each length class based on the proportion of measured individuals in the subsample in that length class. Individuals within a length class are then assigned a specific length within that length class based on a uniform distribution. Because the expanded number of individuals in a length class is rounded down based on the measured number per length class, not all individuals will initially be assigned a length value. The remaining individuals are assigned to a length class randomly according to weights based on the proportion of individuals in the measured length classes. Finally, these individuals are randomly assigned a specific length within the respective length class from a uniform distribution, same as above.</p>
<p>The resulting length assignments are rounded to the number of decimals shown in <code>decimal</code>. If <code>decimals</code> is not set by the user then it will default to the same number of decimals shown in the <code>w</code> value. Care is taken to make sure that the rounded result will not pass out of the given length category (i.e., will not be allowed to round up to the next length category). Generally speaking, one will want to use more decimals then is shown in <code>w</code>. For example, one may want to create length categories with a width of 1 inch (i.e., <code>w=1</code>) but have the results recorded as if measured to within 0.1 inch (i.e., <code>decimals=1</code>).</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>See <code>expandCounts</code> for expanding more than just lengths or expanding lengths when there is a known number in each length bin. See <code>lencat</code> for creating length bins.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>## Set the random seed for reproducibility</span>
<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span>(<span class='fl'>15343437</span>)

<span class='co'>## First example</span>
<span class='co'># random lengths measured to nearest 0.1 unit -- values in a vector</span>
<span class='no'>len1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span>(<span class='fu'><a href='https://rdrr.io/r/stats/Uniform.html'>runif</a></span>(<span class='fl'>50</span>,<span class='fl'>0.1</span>,<span class='fl'>9.9</span>),<span class='fl'>1</span>)
<span class='co'># assignment of integer lengths to 110 non-measured individuals</span>
<span class='no'>new.len1a</span> <span class='kw'>&lt;-</span> <span class='fu'>expandLenFreq</span>(<span class='no'>len1</span>,<span class='kw'>w</span><span class='kw'>=</span><span class='fl'>1</span>,<span class='kw'>total</span><span class='kw'>=</span><span class='fl'>160</span>)</div><div class='output co'>#&gt; Length Frequency Expansion using:
#&gt;  Measured length frequency of 50 individuals:
#&gt;    0    1    2    3    4    5    6    7    8    9 
#&gt; 0.08 0.06 0.04 0.08 0.14 0.10 0.14 0.04 0.16 0.16 
#&gt; 
#&gt; Non-random allocations of 105 individuals by length category.
#&gt;  [1]  8  6  4  8 15 11 15  4 17 17
#&gt; 
#&gt; Random allocations of 5 individuals
#&gt;  With final length frequency table of:
#&gt;  0  1  2  3  4  5  6  7  8  9 
#&gt;  8  6  4  8 17 11 15  4 20 17 </div><div class='input'><span class='no'>new.len1a</span></div><div class='output co'>#&gt;   [1] 0 0 0 0 0 0 0 0 1 1 1 1 1 1 2 2 2 2 3 3 3 3 3 3 3 3 4 4 4 4 4 4 4 4 4 4 4
#&gt;  [38] 4 4 4 4 4 4 5 5 5 5 5 5 5 5 5 5 5 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 7 7 7 7 8
#&gt;  [75] 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9</div><div class='input'><span class='co'># assignment of lengths to 0.1 to 110 non-measured individuals</span>
<span class='no'>new.len1b</span> <span class='kw'>&lt;-</span> <span class='fu'>expandLenFreq</span>(<span class='no'>len1</span>,<span class='kw'>w</span><span class='kw'>=</span><span class='fl'>1</span>,<span class='kw'>total</span><span class='kw'>=</span><span class='fl'>160</span>,<span class='kw'>decimals</span><span class='kw'>=</span><span class='fl'>1</span>)</div><div class='output co'>#&gt; Length Frequency Expansion using:
#&gt;  Measured length frequency of 50 individuals:
#&gt;    0    1    2    3    4    5    6    7    8    9 
#&gt; 0.08 0.06 0.04 0.08 0.14 0.10 0.14 0.04 0.16 0.16 
#&gt; 
#&gt; Non-random allocations of 105 individuals by length category.
#&gt;  [1]  8  6  4  8 15 11 15  4 17 17
#&gt; 
#&gt; Random allocations of 5 individuals
#&gt;  With final length frequency table of:
#&gt;  0  1  2  3  4  5  6  7  8  9 
#&gt;  8  6  5  8 16 11 16  4 19 17 </div><div class='input'><span class='no'>new.len1b</span></div><div class='output co'>#&gt;   [1] 0.1 0.1 0.2 0.3 0.3 0.3 0.5 0.9 1.3 1.4 1.5 1.5 1.6 1.6 2.1 2.1 2.3 2.6
#&gt;  [19] 2.8 3.0 3.1 3.3 3.5 3.5 3.7 3.8 3.9 4.0 4.1 4.2 4.3 4.3 4.4 4.4 4.5 4.6
#&gt;  [37] 4.7 4.8 4.8 4.8 4.8 4.8 4.9 5.0 5.1 5.3 5.4 5.6 5.6 5.8 5.8 5.8 5.8 5.9
#&gt;  [55] 6.0 6.1 6.2 6.4 6.5 6.6 6.6 6.6 6.6 6.6 6.7 6.8 6.8 6.8 6.9 6.9 7.4 7.5
#&gt;  [73] 7.6 7.6 8.0 8.0 8.0 8.0 8.1 8.2 8.3 8.3 8.3 8.3 8.3 8.4 8.4 8.6 8.7 8.7
#&gt;  [91] 8.8 8.8 8.8 9.0 9.2 9.2 9.2 9.2 9.2 9.3 9.3 9.4 9.5 9.6 9.6 9.6 9.8 9.8
#&gt; [109] 9.8 9.8</div><div class='input'>
<span class='co'>## Second example -- if values are in a data.frame</span>
<span class='co'># random lengths measured to nearest 0.1 unit</span>
<span class='no'>len2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span>(<span class='kw'>len</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span>(<span class='fu'><a href='https://rdrr.io/r/stats/Uniform.html'>runif</a></span>(<span class='fl'>50</span>,<span class='fl'>10</span>,<span class='fl'>117</span>),<span class='fl'>1</span>))
<span class='co'># assignment of lengths to 0.1 for 140 non-measured indivs</span>
<span class='no'>new.len2a</span> <span class='kw'>&lt;-</span> <span class='fu'>expandLenFreq</span>(<span class='no'>len2</span>$<span class='no'>len</span>,<span class='kw'>w</span><span class='kw'>=</span><span class='fl'>10</span>,<span class='kw'>total</span><span class='kw'>=</span><span class='fl'>190</span>,<span class='kw'>decimals</span><span class='kw'>=</span><span class='fl'>1</span>)</div><div class='output co'>#&gt; Length Frequency Expansion using:
#&gt;  Measured length frequency of 50 individuals:
#&gt;   10   20   30   40   50   60   70   80   90  100  110 
#&gt; 0.06 0.06 0.06 0.14 0.04 0.10 0.12 0.14 0.12 0.04 0.12 
#&gt; 
#&gt; Non-random allocations of 134 individuals by length category.
#&gt;  [1]  8  8  8 19  5 14 16 19 16  5 16
#&gt; 
#&gt; Random allocations of 6 individuals
#&gt;  With final length frequency table of:
#&gt;  10  20  30  40  50  60  70  80  90 100 110 
#&gt;   8   8   8  20   6  15  18  20  16   5  16 </div><div class='input'><span class='no'>new.len2a</span></div><div class='output co'>#&gt;   [1]  10.1  10.7  12.2  15.9  16.2  16.3  17.8  18.2  24.2  25.0  25.4  25.6
#&gt;  [13]  27.0  27.5  29.1  29.9  31.2  31.9  31.9  32.9  33.5  36.0  38.0  38.6
#&gt;  [25]  41.0  41.8  42.5  42.7  42.7  42.8  43.1  43.3  43.4  44.0  44.2  44.2
#&gt;  [37]  44.9  45.1  47.3  47.5  49.1  49.1  49.6  49.6  51.9  52.1  55.4  56.6
#&gt;  [49]  58.1  58.7  60.1  61.3  61.6  62.1  64.5  64.6  66.3  66.8  67.7  67.8
#&gt;  [61]  68.0  68.3  68.5  68.5  69.3  70.8  71.2  71.5  72.4  72.5  72.5  72.8
#&gt;  [73]  73.0  74.0  75.8  76.7  76.8  77.3  77.5  78.2  78.7  79.9  79.9  80.4
#&gt;  [85]  80.6  80.7  81.7  82.8  85.1  85.5  85.7  86.4  86.6  87.0  87.1  87.2
#&gt;  [97]  87.7  88.8  88.8  89.0  89.1  89.5  89.5  90.0  90.6  91.8  92.4  92.5
#&gt; [109]  92.5  93.7  93.8  94.6  94.7  95.2  95.3  95.9  96.2  98.6  99.5 103.6
#&gt; [121] 104.6 104.9 106.0 109.5 110.4 111.1 111.4 111.7 112.5 112.6 113.9 114.1
#&gt; [133] 114.1 114.5 115.2 116.8 117.1 118.6 119.3 119.7</div><div class='input'>
<span class='co'>## Third example</span>
<span class='co'># hypothetically measured lengths</span>
<span class='no'>len</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>6.7</span>,<span class='fl'>6.9</span>,<span class='fl'>7.3</span>,<span class='fl'>7.4</span>,<span class='fl'>7.5</span>,<span class='fl'>8.2</span>,<span class='fl'>8.7</span>,<span class='fl'>8.9</span>)
<span class='co'># find lengths for unmeasured fish assuming a total of 30</span>
<span class='no'>newlen1</span> <span class='kw'>&lt;-</span> <span class='fu'>expandLenFreq</span>(<span class='no'>len</span>,<span class='kw'>w</span><span class='kw'>=</span><span class='fl'>0.5</span>,<span class='kw'>total</span><span class='kw'>=</span><span class='fl'>30</span>,<span class='kw'>decimals</span><span class='kw'>=</span><span class='fl'>1</span>)</div><div class='output co'>#&gt; Length Frequency Expansion using:
#&gt;  Measured length frequency of 8 individuals:
#&gt;   6.5     7   7.5     8   8.5 
#&gt; 0.250 0.250 0.125 0.125 0.250 
#&gt; 
#&gt; Non-random allocations of 19 individuals by length category.
#&gt; [1] 5 5 2 2 5
#&gt; 
#&gt; Random allocations of 3 individuals
#&gt;  With final length frequency table of:
#&gt; 6.5   7 7.5   8 8.5 
#&gt;   6   5   2   4   5 </div><div class='input'><span class='no'>newlen1</span></div><div class='output co'>#&gt;  [1] 6.6 6.7 6.7 6.7 6.8 6.9 7.1 7.1 7.2 7.3 7.3 7.5 7.7 8.0 8.2 8.3 8.3 8.5 8.6
#&gt; [20] 8.7 8.8 8.8</div><div class='input'><span class='co'># set a starting length category</span>
<span class='no'>newlen2</span> <span class='kw'>&lt;-</span> <span class='fu'>expandLenFreq</span>(<span class='no'>len</span>,<span class='kw'>w</span><span class='kw'>=</span><span class='fl'>0.5</span>,<span class='kw'>startcat</span><span class='kw'>=</span><span class='fl'>6.2</span>,<span class='kw'>total</span><span class='kw'>=</span><span class='fl'>30</span>,<span class='kw'>decimals</span><span class='kw'>=</span><span class='fl'>1</span>)</div><div class='output co'>#&gt; Length Frequency Expansion using:
#&gt;  Measured length frequency of 8 individuals:
#&gt;   6.7   7.2   8.2   8.7 
#&gt; 0.250 0.375 0.125 0.250 
#&gt; 
#&gt; Non-random allocations of 20 individuals by length category.
#&gt; [1] 5 8 2 5
#&gt; 
#&gt; Random allocations of 2 individuals
#&gt;  With final length frequency table of:
#&gt; 6.7 7.2 8.2 8.7 
#&gt;   6   9   2   5 </div><div class='input'><span class='no'>newlen2</span></div><div class='output co'>#&gt;  [1] 6.7 6.7 6.9 6.9 6.9 6.9 7.2 7.3 7.3 7.3 7.4 7.4 7.4 7.6 7.6 8.4 8.5 8.7 8.8
#&gt; [20] 9.0 9.0 9.1</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Derek H. Ogle, <a href='mailto:derek@derekogle.com'>derek@derekogle.com</a></p>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Derek Ogle, Powell Wheeler, Alexis Dinno.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


