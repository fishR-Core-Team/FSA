<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Convenience function for calculating PSD-X and PSD X-Y values. — psdCalc • FSA</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Convenience function for calculating PSD-X and PSD X-Y values. — psdCalc"><meta name="description" content="Convenience function for calculating (traditional) PSD-X and (incremental) PSD X-Y values for all Gabelhouse lengths and increments thereof."><meta property="og:description" content="Convenience function for calculating (traditional) PSD-X and (incremental) PSD X-Y values for all Gabelhouse lengths and increments thereof."><meta property="og:image" content="https://fishr-core-team.github.io/FSA/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">FSA</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.10.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-demonstrations" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Demonstrations</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-demonstrations"><li><a class="dropdown-item" href="../articles/Computing_PSDs.html">Computing Proportional Size Distribution Metrics</a></li>
    <li><a class="dropdown-item" href="../articles/Computing_Relative_Weights.html">Computing Relative Weights</a></li>
    <li><a class="dropdown-item" href="../articles/Fitting_Growth_Functions.html">Fitting Growth Functions</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-explanations" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Explanations</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-explanations"><li><a class="dropdown-item" href="../articles/Growth_Function_Parameterizations.html">Growth Function Equations</a></li>
    <li><a class="dropdown-item" href="../articles/Growth_Starting_Values.html">Explaining Starting Values for Growth Functions</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../news/index.html" aria-label="See package news"><span class="fa fa-newspaper"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../index.html" aria-label="Goto FSA home"><span class="fa fa-home"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/fishR-Core-Team/FSA" aria-label="Goto FSA github page"><span class="fa fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Convenience function for calculating PSD-X and PSD X-Y values.</h1>
      <small class="dont-index">Source: <a href="https://github.com/fishR-Core-Team/FSA/blob/v0.10.0/R/psdCalc.R" class="external-link"><code>R/psdCalc.R</code></a></small>
      <div class="d-none name"><code>psdCalc.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Convenience function for calculating (traditional) PSD-X and (incremental) PSD X-Y values for all Gabelhouse lengths and increments thereof.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">psdCalc</span><span class="op">(</span></span>
<span>  <span class="va">formula</span>,</span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">species</span>,</span>
<span>  group <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  units <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mm"</span>, <span class="st">"cm"</span>, <span class="st">"in"</span><span class="op">)</span>,</span>
<span>  method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"multinomial"</span>, <span class="st">"binomial"</span><span class="op">)</span>,</span>
<span>  conf.level <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  addLens <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  addNames <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  justAdds <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  what <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"all"</span>, <span class="st">"traditional"</span>, <span class="st">"incremental"</span>, <span class="st">"none"</span><span class="op">)</span>,</span>
<span>  drop0Est <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  showIntermediate <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  digits <span class="op">=</span> <span class="fl">0</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-formula">formula<a class="anchor" aria-label="anchor" href="#arg-formula"></a></dt>
<dd><p>A formula of the form <code>~length</code> where “length” generically represents a variable in <code>data</code> that contains the observed lengths. Note that this formula may only contain one variable and it must be numeric.</p></dd>


<dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A data.frame that minimally contains the observed lengths given in the variable in <code>formula</code>.</p></dd>


<dt id="arg-species">species<a class="anchor" aria-label="anchor" href="#arg-species"></a></dt>
<dd><p>A string that contains the species name for which Gabelhouse lengths exist. See <code><a href="psdVal.html">psdVal</a></code> for details. See details for how to use this function for species for which Gabelhouse lengths are not defined.</p></dd>


<dt id="arg-group">group<a class="anchor" aria-label="anchor" href="#arg-group"></a></dt>
<dd><p>A string that contains the sub-group of <code>species</code> for which to find the Gabelhouse lengths; e.g., things like “landlocked”, “lentic”.</p></dd>


<dt id="arg-units">units<a class="anchor" aria-label="anchor" href="#arg-units"></a></dt>
<dd><p>A string that indicates the type of units used for the lengths. Choices are <code>mm</code> for millimeters (DEFAULT), <code>cm</code> for centimeters, and <code>in</code> for inches.</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>A character that identifies the confidence interval method to use. See details in <code><a href="psdCI.html">psdCI</a></code>.</p></dd>


<dt id="arg-conf-level">conf.level<a class="anchor" aria-label="anchor" href="#arg-conf-level"></a></dt>
<dd><p>A number that indicates the level of confidence to use for constructing confidence intervals (default is <code>0.95</code>).</p></dd>


<dt id="arg-addlens">addLens<a class="anchor" aria-label="anchor" href="#arg-addlens"></a></dt>
<dd><p>A numeric vector that contains minimum lengths for additional categories. See <code><a href="psdVal.html">psdVal</a></code> for details.</p></dd>


<dt id="arg-addnames">addNames<a class="anchor" aria-label="anchor" href="#arg-addnames"></a></dt>
<dd><p>A string vector that contains names for the additional lengths added with <code>addLens</code>. See <code><a href="psdVal.html">psdVal</a></code> for details.</p></dd>


<dt id="arg-justadds">justAdds<a class="anchor" aria-label="anchor" href="#arg-justadds"></a></dt>
<dd><p>A logical that indicates whether just the values related to the lengths in <code>addLens</code> should be returned.</p></dd>


<dt id="arg-what">what<a class="anchor" aria-label="anchor" href="#arg-what"></a></dt>
<dd><p>A string that indicates the type of PSD values that will be printed. See details.</p></dd>


<dt id="arg-drop-est">drop0Est<a class="anchor" aria-label="anchor" href="#arg-drop-est"></a></dt>
<dd><p>A logical that indicates whether the PSD values that are zero should be dropped from the output.</p></dd>


<dt id="arg-showintermediate">showIntermediate<a class="anchor" aria-label="anchor" href="#arg-showintermediate"></a></dt>
<dd><p>A logical that indicates whether the number of fish in the category and the number of stock fish (i.e., “intermediate” values) should be included in the returned matrix. Default is to not include these values.</p></dd>


<dt id="arg-digits">digits<a class="anchor" aria-label="anchor" href="#arg-digits"></a></dt>
<dd><p>A numeric that indicates the number of decimals to round the result to. Default is zero digits following the recommendation of Neumann and Allen (2007).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A matrix with columns that contain the computed PSD-X or PSD X-Y values and associated confidence intervals. If <code>showIntermediate=TRUE</code> then the number of fish in the category and the number of stock fish will also be shown.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Computes the (traditional) PSD-X and (incremental) PSD X-Y values, with associated confidence intervals, for each Gabelhouse length. All PSD-X and PSD X-Y values are printed if <code>what="all"</code> (DEFAULT), only PSD-X values are printed if <code>what="traditional"</code>, only PSD X-Y values are printed if <code>what="incremental"</code>, and nothing is printed (but the matrix is still returned) if <code>what="none"</code>.</p>
<p>Confidence intervals can be computed with either the multinomial (DEFAULT) or binomial distribution as set in <code>method</code>See details in <code><a href="psdCI.html">psdCI</a></code> for more information.</p>
<p>This function may be used for species for which Gabelhouse length categories are not defined. In this case do not include a name in <code>species</code>, but define at least two lengths in <code>addLens</code> where the first category MUST be called “stock”.</p>
<p>See examples and <a href="https://fishr-core-team.github.io/FSA/articles/Computing_PSDs.html">this article</a> for a demonstration.</p>
    </div>
    <div class="section level2">
    <h2 id="testing">Testing<a class="anchor" aria-label="anchor" href="#testing"></a></h2>
    <p>Point estimate calculations match those constructed "by hand."</p>
    </div>
    <div class="section level2">
    <h2 id="ifar-chapter">IFAR Chapter<a class="anchor" aria-label="anchor" href="#ifar-chapter"></a></h2>
    <p>6-Size Structure.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Ogle, D.H. 2016. <a href="https://fishr-core-team.github.io/fishR/pages/books.html#introductory-fisheries-analyses-with-r" class="external-link">Introductory Fisheries Analyses with R</a>Chapman &amp; Hall/CRC, Boca Raton, FL.</p>
<p>Guy, C.S., R.M. Neumann, and D.W. Willis. 2006. New terminology for proportional stock density (PSD) and relative stock density (RSD): proportional size structure (PSS). Fisheries 31:86-87. [Was (is?) from http://pubstorage.sdstate.edu/wfs/415-F.pdf.]</p>
<p>Guy, C.S., R.M. Neumann, D.W. Willis, and R.O. Anderson2006Proportional size distribution (PSD): A further refinement of population size structure index terminology. Fisheries. 32:348. [Was (is?) from http://pubstorage.sdstate.edu/wfs/450-F.pdf.]</p>
<p>Neumann, R.M. and Allen, M.S. 2007. Size structure. In Guy, C.S. and Brown, M.L., editors, Analysis and Interpretation of Freshwater Fisheries Data, Chapter 9, pages 375-421. American Fisheries Society, Bethesda, MD.</p>
<p>Willis, D.W., B.R. Murphy, and C.S. Guy. 1993. Stock density indices: development, use, and limitations. Reviews in Fisheries Science 1:203-222. [Was (is?) from http://web1.cnre.vt.edu/murphybr/web/Readings/Willis%20et%20al.pdf.]</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>See <code><a href="psdVal.html">psdVal</a></code>, <code><a href="psdPlot.html">psdPlot</a></code>, <code><a href="psdAdd.html">psdAdd</a></code>, <code><a href="PSDlit.html">PSDlit</a></code>, <code><a href="tictactoe.html">tictactoe</a></code>, <code><a href="lencat.html">lencat</a></code>, and <code><a href="rcumsum.html">rcumsum</a></code> for related functionality.</p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Derek H. Ogle, <a href="mailto:DerekOgle51@gmail.com">DerekOgle51@gmail.com</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">#===== Random length data for Yellow Perch (for example) to the nearest mm</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">633437</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">yepdf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>yepmm<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span>,mean<span class="op">=</span><span class="fl">125</span>,sd<span class="op">=</span><span class="fl">15</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                                  <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">50</span>,mean<span class="op">=</span><span class="fl">200</span>,sd<span class="op">=</span><span class="fl">25</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                                  <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">20</span>,mean<span class="op">=</span><span class="fl">270</span>,sd<span class="op">=</span><span class="fl">40</span><span class="op">)</span><span class="op">)</span>,<span class="fl">0</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                    species<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Yellow Perch"</span>,<span class="fl">170</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>                    </span></span>
<span class="r-in"><span><span class="co">#===== Simple (typical) uses with just Gabelhouse lengths</span></span></span>
<span class="r-in"><span><span class="co">#----- All results</span></span></span>
<span class="r-in"><span><span class="fu">psdCalc</span><span class="op">(</span><span class="op">~</span><span class="va">yepmm</span>,data<span class="op">=</span><span class="va">yepdf</span>,species<span class="op">=</span><span class="st">"Yellow Perch"</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Some category sample size &lt;20, some CI coverage may be lower than 95%.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         Estimate 95% LCI 95% UCI</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD-Q         40      27      54</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD-P         14       5      23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD-M          5       0      10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD S-Q       60      46      73</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD Q-P       27      15      38</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD P-M        9       1      17</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD M-T        5       0      10</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#----- Just the traditional indices</span></span></span>
<span class="r-in"><span><span class="fu">psdCalc</span><span class="op">(</span><span class="op">~</span><span class="va">yepmm</span>,data<span class="op">=</span><span class="va">yepdf</span>,species<span class="op">=</span><span class="st">"Yellow Perch"</span>,what<span class="op">=</span><span class="st">"traditional"</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Some category sample size &lt;20, some CI coverage may be lower than 95%.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Estimate 95% LCI 95% UCI</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD-Q       40      27      54</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD-P       14       5      23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD-M        5       0      10</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#----- Just the incremental indices</span></span></span>
<span class="r-in"><span><span class="fu">psdCalc</span><span class="op">(</span><span class="op">~</span><span class="va">yepmm</span>,data<span class="op">=</span><span class="va">yepdf</span>,species<span class="op">=</span><span class="st">"Yellow Perch"</span>,what<span class="op">=</span><span class="st">"incremental"</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Some category sample size &lt;20, some CI coverage may be lower than 95%.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         Estimate 95% LCI 95% UCI</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD S-Q       60      46      73</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD Q-P       27      15      38</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD P-M        9       1      17</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD M-T        5       0      10</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#===== Add a custom length of interest (to the Gabelhouse lengths)</span></span></span>
<span class="r-in"><span><span class="fu">psdCalc</span><span class="op">(</span><span class="op">~</span><span class="va">yepmm</span>,data<span class="op">=</span><span class="va">yepdf</span>,species<span class="op">=</span><span class="st">"Yellow Perch"</span>,addLens<span class="op">=</span><span class="fl">150</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Some category sample size &lt;20, some CI coverage may be lower than 95%.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           Estimate 95% LCI 95% UCI</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD-150         67      53      81</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD-Q           40      26      55</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD-P           14       4      24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD-M            5       0      11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD S-150       33      19      47</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD 150-Q       27      14      40</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD Q-P         27      14      40</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD P-M          9       1      18</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD M-T          5       0      11</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#----- Additional lengths can be named</span></span></span>
<span class="r-in"><span><span class="fu">psdCalc</span><span class="op">(</span><span class="op">~</span><span class="va">yepmm</span>,data<span class="op">=</span><span class="va">yepdf</span>,species<span class="op">=</span><span class="st">"Yellow Perch"</span>,addLens<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"minLen"</span><span class="op">=</span><span class="fl">150</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Some category sample size &lt;20, some CI coverage may be lower than 95%.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              Estimate 95% LCI 95% UCI</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD-minLen         67      53      81</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD-Q              40      26      55</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD-P              14       4      24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD-M               5       0      11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD S-minLen       33      19      47</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD minLen-Q       27      14      40</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD Q-P            27      14      40</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD P-M             9       1      18</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD M-T             5       0      11</span>
<span class="r-in"><span><span class="fu">psdCalc</span><span class="op">(</span><span class="op">~</span><span class="va">yepmm</span>,data<span class="op">=</span><span class="va">yepdf</span>,species<span class="op">=</span><span class="st">"Yellow Perch"</span>,</span></span>
<span class="r-in"><span>        addLens<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"minLen"</span><span class="op">=</span><span class="fl">150</span>,<span class="st">"maxslot"</span><span class="op">=</span><span class="fl">275</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Some category sample size &lt;20, some CI coverage may be lower than 95%.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               Estimate 95% LCI 95% UCI</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD-minLen          67      52      82</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD-Q               40      25      56</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD-P               14       3      25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD-maxslot          9       0      18</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD-M                5       0      11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD S-minLen        33      18      48</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD minLen-Q        27      13      41</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD Q-P             27      13      41</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD P-maxslot        5       0      11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD maxslot-M        5       0      11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD M-T              5       0      11</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#----- Can return just those results that include the additional lengths</span></span></span>
<span class="r-in"><span><span class="fu">psdCalc</span><span class="op">(</span><span class="op">~</span><span class="va">yepmm</span>,data<span class="op">=</span><span class="va">yepdf</span>,species<span class="op">=</span><span class="st">"Yellow Perch"</span>,</span></span>
<span class="r-in"><span>        addLens<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"minSlot"</span><span class="op">=</span><span class="fl">150</span>,<span class="st">"maxSlot"</span><span class="op">=</span><span class="fl">275</span><span class="op">)</span>,justAdds<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Some category sample size &lt;20, some CI coverage may be lower than 95%.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               Estimate 95% LCI 95% UCI</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD-minSlot         67      52      82</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD-maxSlot          9       0      18</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD S-minSlot       33      18      48</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD minSlot-Q       27      13      41</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD P-maxSlot        5       0      11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD maxSlot-M        5       0      11</span>
<span class="r-in"><span><span class="fu">psdCalc</span><span class="op">(</span><span class="op">~</span><span class="va">yepmm</span>,data<span class="op">=</span><span class="va">yepdf</span>,species<span class="op">=</span><span class="st">"Yellow Perch"</span>,</span></span>
<span class="r-in"><span>        addLens<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"minSlot"</span><span class="op">=</span><span class="fl">150</span>,<span class="st">"maxSlot"</span><span class="op">=</span><span class="fl">275</span><span class="op">)</span>,justAdds<span class="op">=</span><span class="cn">TRUE</span>,what<span class="op">=</span><span class="st">"traditional"</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Some category sample size &lt;20, some CI coverage may be lower than 95%.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Estimate 95% LCI 95% UCI</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD-minSlot       67      52      82</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD-maxSlot        9       0      18</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#===== Can show intermediate values (num in category and in stock)</span></span></span>
<span class="r-in"><span><span class="fu">psdCalc</span><span class="op">(</span><span class="op">~</span><span class="va">yepmm</span>,data<span class="op">=</span><span class="va">yepdf</span>,species<span class="op">=</span><span class="st">"Yellow Perch"</span>,showInterm<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Some category sample size &lt;20, some CI coverage may be lower than 95%.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         num stock Estimate 95% LCI 95% UCI</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD-Q    44   109       40      27      54</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD-P    15   109       14       5      23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD-M     5   109        5       0      10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD S-Q  65   109       60      46      73</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD Q-P  29   109       27      15      38</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD P-M  10   109        9       1      17</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD M-T   5   109        5       0      10</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#===== Some species require use of group (e.g., treat these as if Brown Trout)</span></span></span>
<span class="r-in"><span><span class="fu">psdCalc</span><span class="op">(</span><span class="op">~</span><span class="va">yepmm</span>,data<span class="op">=</span><span class="va">yepdf</span>,species<span class="op">=</span><span class="st">"Brown Trout"</span>,group<span class="op">=</span><span class="st">"lotic"</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Some category sample size &lt;20, some CI coverage may be lower than 95%.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         Estimate 95% LCI 95% UCI</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD-Q         26      13      39</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD-P          7       0      14</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD S-Q       74      61      87</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD Q-P       19       8      30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD P-M        7       0      14</span>
<span class="r-in"><span><span class="fu">psdCalc</span><span class="op">(</span><span class="op">~</span><span class="va">yepmm</span>,data<span class="op">=</span><span class="va">yepdf</span>,species<span class="op">=</span><span class="st">"Brown Trout"</span>,group<span class="op">=</span><span class="st">"lentic"</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Some category sample size &lt;20, some CI coverage may be lower than 95%.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         Estimate 95% LCI 95% UCI</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD-Q         11       2      21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD S-Q       89      79      98</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD Q-P       11       2      21</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#===== For species not in PSDlit ... don't include species and use addLens</span></span></span>
<span class="r-in"><span><span class="co">#      Note that these are same data as above, but treated as different species</span></span></span>
<span class="r-in"><span><span class="fu">psdCalc</span><span class="op">(</span><span class="op">~</span><span class="va">yepmm</span>,data<span class="op">=</span><span class="va">yepdf</span>,addLens<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"stock"</span><span class="op">=</span><span class="fl">130</span>,<span class="st">"quality"</span><span class="op">=</span><span class="fl">200</span>,<span class="st">"preferred"</span><span class="op">=</span><span class="fl">250</span>,</span></span>
<span class="r-in"><span>                                    <span class="st">"memorable"</span><span class="op">=</span><span class="fl">300</span>,<span class="st">"trophy"</span><span class="op">=</span><span class="fl">380</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Some category sample size &lt;20, some CI coverage may be lower than 95%.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         Estimate 95% LCI 95% UCI</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD-Q         40      27      54</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD-P         14       5      23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD-M          5       0      10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD S-Q       60      46      73</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD Q-P       27      15      38</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD P-M        9       1      17</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PSD M-T        5       0      10</span>
<span class="r-in"><span>                                    </span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="http://derekogle.com" class="external-link">Derek H. Ogle</a>, Jason C. Doll, A. Powell Wheeler, Alexis Dinno.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.9000.</p>
</div>

    </footer></div>





  </body></html>

