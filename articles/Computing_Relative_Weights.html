<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Computing Relative Weights in FSA • FSA</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="Computing_Relative_Weights_files/libs/quarto-html/popper.min.js"></script><script src="Computing_Relative_Weights_files/libs/quarto-html/tippy.umd.min.js"></script><link href="Computing_Relative_Weights_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Computing_Relative_Weights_files/libs/quarto-html/light-border.css" rel="stylesheet">
<!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Computing Relative Weights in FSA">
<meta property="og:image" content="https://fishr-core-team.github.io/FSA/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">FSA</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.9.6.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-demonstrations" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Demonstrations</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-demonstrations">
<li><a class="dropdown-item" href="../articles/Computing_PSDs.html">Computing Proportional Size Distribution Metrics</a></li>
    <li><a class="dropdown-item" href="../articles/Computing_Relative_Weights.html">Computing Relative Weights</a></li>
    <li><a class="dropdown-item" href="../articles/Fitting_Growth_Functions.html">Fitting Growth Functions</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-explanations" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Explanations</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-explanations">
<li><a class="dropdown-item" href="../articles/Growth_Function_Parameterizations.html">Growth Function Equations</a></li>
    <li><a class="dropdown-item" href="../articles/Growth_Starting_Values.html">Explaining Starting Values for Growth Functions</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="nav-link" href="../news/index.html" aria-label="See package news"><span class="fa fa-newspaper"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../index.html" aria-label="Goto FSA home"><span class="fa fa-home"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/fishR-Core-Team/FSA" aria-label="Goto FSA github page"><span class="fa fa-github"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-quarto">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Computing Relative Weights in FSA</h1>

      <p class="author">Derek H. Ogle</p>
      <p class="date">2025-05-02</p>

      <small class="dont-index">Source: <a href="https://github.com/fishR-Core-Team/FSA/blob/dev/vignettes/articles/Computing_Relative_Weights.qmd" class="external-link"><code>vignettes/articles/Computing_Relative_Weights.qmd</code></a></small>
      <div class="d-none name"><code></code></div>
    </div>






    <section class="section level2"><h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>Condition is a measure of the physical condition of a population of fish based on the relative heaviness or plumpness of the fish as compared to a standard. One measure is called <strong>relative weight</strong> and is simply 100 times the observed weight of a fish divided by a standard weight derived from an accepted model for that species and the individual’s observed length; i.e.,</p>
<p><span id="eq-Wri"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>W</mi><msub><mi>r</mi><mi>i</mi></msub><mo>=</mo><mn>100</mn><mfrac><msub><mi>W</mi><mi>i</mi></msub><mrow><mi>W</mi><msub><mi>s</mi><mi>i</mi></msub></mrow></mfrac><mspace width="2.0em"></mspace><mrow><mo stretchy="true" form="prefix">(</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex"> Wr_i = 100\frac{W_i}{Ws_i}  \qquad(1)</annotation></semantics></math></span></p>
<p>where <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>W</mi><msub><mi>r</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">Wr_i</annotation></semantics></math> is the relative weight, <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>W</mi><mi>i</mi></msub><annotation encoding="application/x-tex">W_i</annotation></semantics></math> is the observed weight, and <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>W</mi><msub><mi>s</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">Ws_i</annotation></semantics></math> is the standard weight for the <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>i</mi><annotation encoding="application/x-tex">i</annotation></semantics></math>th fish. Individual relative weights are summarized to provide an overall measure of condition for the population. Relative weight and condition are explained in a variety of sources, including <a href="https://fishr-core-team.github.io/fishR/pages/books.html#introductory-fisheries-analyses-with-r" class="external-link">Ogle (2016)</a>. The goal of this vignette is to demonstrate how to calculate relative weights using functions in<code>FSA</code>.</p>
<p>The following packages are used herein. Note that the <code>FSA</code> functions described here were modified after version 0.9.6 and are thus <strong>specific to FSA &gt;v0.9.6</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://fishr-core-team.github.io/FSA/">FSA</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span>  <span class="co"># mutate, select, group_by, summarize</span></span></code></pre></div>
</div>
</section><section class="section level2"><h2 id="standard-weight-equations">Standard Weight Equations<a class="anchor" aria-label="anchor" href="#standard-weight-equations"></a>
</h2>
<p>Equations for computing the standard weight (i.e., <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>W</mi><msub><mi>s</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">Ws_i</annotation></semantics></math>) from an individual fish’s observed length (i.e., <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>L</mi><mi>i</mi></msub><annotation encoding="application/x-tex">L_i</annotation></semantics></math>) have been derived for a number of freshwater game fish in the United States, as well as several non-game fish in the United States and some other fish from outside of the United States. The specifics of these equations have been collated into the <code>WSlit</code> data.frame<a class="footnote-ref" role="doc-noteref" tabindex="0" data-bs-toggle="popover" data-bs-content='&lt;p&gt;Specifics &lt;a href="https://fishr-core-team.github.io/FSA/reference/WSlit.html"&gt;here&lt;/a&gt;.&lt;/p&gt;'><sup>1</sup></a> distributed with <code>FSA</code> and are most easily accessed with <code><a href="../reference/wsVal.html">wsVal()</a></code>. For example, the specifics of the standard weight equation for Bluegill are retrieved below.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/wsVal.html">wsVal</a></span><span class="op">(</span><span class="st">"Bluegill"</span><span class="op">)</span></span>
<span><span class="co">#&gt;     species measure  units ref method min.TL    int slope         source</span></span>
<span><span class="co">#&gt; 26 Bluegill      TL metric  75  Other     80 -5.374 3.316 Hillman (1982)</span></span></code></pre></div>
</div>
<p>The results returned from <code><a href="../reference/wsVal.html">wsVal()</a></code> are:</p>
<ul>
<li>
<code>species</code>: species of fish asked for. If left blank then a list of all species for which a standard weight equation exists in <code>WSlit</code> will be shown.</li>
<li>
<code>group</code>: the sub-group for the species. Some species have separate standard weight equations for sub-groups (e.g,. <code>male</code> or <code>female</code>, or <code>lentic</code> and <code>lotic</code>). If <code>group</code> does not appear in the output then there is no sub-group for that species (as illustrated here). The sub-group can be chosen with <code>group=</code> in <code><a href="../reference/wsVal.html">wsVal()</a></code> as demonstrated later.<a class="footnote-ref" role="doc-noteref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;Leave &lt;code&gt;group=&lt;/code&gt; at the default &lt;code&gt;NULL&lt;/code&gt; for species without sub-group equations.&lt;/p&gt;"><sup>2</sup></a>
</li>
<li>
<code>measure</code>: the length measure used (will generally be <code>TL</code> for total length, but could be <code>FL</code> for fork length, <code>BL</code> for body length, or <code>CL</code> for caudal length depending on the species).</li>
<li>
<code>units</code>: the units for which the equation was developed. The default is <code>metric</code> which has length in mm and weight in grams. However, <code>English</code> can also be used which has lengths in inches and weight in pounds. These are the only two “units” for which the equation can be returned; thus, if you recorded lengths and weights in different units you will need to adjust your data accordingly (or adjust the standard weights computed from the equations (see below) accordingly).</li>
<li>
<code>ref</code>: the quantile used when developing the standard weight equation. The 75th percentile is used for most species, but some species have alternatives (50th or 25th percentile). Alternatives for a species can be chosen with <code>ref=</code> in <code><a href="../reference/wsVal.html">wsVal()</a></code>.<a class="footnote-ref" role="doc-noteref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;For species with only one possible &lt;code&gt;ref&lt;/code&gt;, then &lt;code&gt;ref=&lt;/code&gt; should be left at the default &lt;code&gt;NULL&lt;/code&gt;.&lt;/p&gt;"><sup>3</sup></a>
</li>
<li>
<code>method</code>: the method used to develop the standard weight equation. This will usually be <code>RLP</code> (regression-line-percentile) or <code>EmP</code> (empirical percentile) but is <code>Other</code> only for Bluegill, as shown here. Some (very few) species have equations for both methods. In these instances, you will need to choose which to use with <code>method=</code> in <code><a href="../reference/wsVal.html">wsVal()</a></code>.<a class="footnote-ref" role="doc-noteref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;For species where only one method is available then leave &lt;code&gt;method=&lt;/code&gt; at the default &lt;code&gt;NULL&lt;/code&gt;.&lt;/p&gt;"><sup>4</sup></a>
</li>
<li>
<code>min.TL</code>: the minimum length for which the standard weight equation is appropriate.<a class="footnote-ref" role="doc-noteref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;The postfix after the period will be replaced with the &lt;code&gt;measure&lt;/code&gt; type ( (here &lt;code&gt;TL&lt;/code&gt; but for some species &lt;code&gt;FL&lt;/code&gt;, &lt;code&gt;BL&lt;/code&gt;, or &lt;code&gt;CL&lt;/code&gt;)).&lt;/p&gt;"><sup>5</sup></a>
</li>
<li>
<code>max.TL</code>: the maximum length for which the standard weight equation is appropriate. Maximum lengths have not been specified for all species and, thus, may not appear in all outputs (e.g., for Bluegill here).</li>
<li>
<code>int</code>: the intercept, <strong>on the common logarithm (i.e., log10) scale</strong>, for the standard weight equation.</li>
<li>
<code>slope</code>: the slope, <strong>on the log10 scale</strong>, for the standard weight equation.</li>
<li>
<code>quad</code>: the coefficient for the quadratic term, <strong>on the log10 scale</strong>, of the standard weight equation. Most species will not have a quadratic term and, thus, this may not appear in many outputs.</li>
<li>
<code>source</code>: the literature source for the standard weight equation.</li>
<li>
<code>comments</code>: comments about the standard weight equation. Not all species have comments, thus, this may not appear in many outputs.</li>
</ul>
<p>A simpler output of only the equation coefficients and the lengths for which it applies may be returned by including <code>simplify=TRUE</code> in <code><a href="../reference/wsVal.html">wsVal()</a></code>.<a class="footnote-ref" role="doc-noteref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;I don’t often use this, but it is available for a “cleaner” look.&lt;/p&gt;"><sup>6</sup></a></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/wsVal.html">wsVal</a></span><span class="op">(</span><span class="st">"Bluegill"</span>,simplify<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt;     species min.TL    int slope</span></span>
<span><span class="co">#&gt; 26 Bluegill     80 -5.374 3.316</span></span></code></pre></div>
</div>
<p>Blue Sucker is an example where some of the “optional” values are returned (e.g., <code>max.TL</code> and <code>quad</code>). The example below further illustrates that the results can be returned in “English” units for many species.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/wsVal.html">wsVal</a></span><span class="op">(</span><span class="st">"Blue Sucker"</span>,units<span class="op">=</span><span class="st">"English"</span><span class="op">)</span></span>
<span><span class="co">#&gt;        species measure   units ref method min.TL max.TL    int slope  quad</span></span>
<span><span class="co">#&gt; 23 Blue Sucker      TL English  75    EmP    9.5  31.75 -3.354 2.273 0.461</span></span>
<span><span class="co">#&gt;                 source</span></span>
<span><span class="co">#&gt; 23 Neely et al. (2008)</span></span></code></pre></div>
</div>
<p>Use of <code><a href="../reference/wsVal.html">wsVal()</a></code> requires spelling (and capitalizing) the name as it appears in <code>WSlit</code>. One can see all species names available in <code>WSlit</code> with <code><a href="../reference/wsVal.html">wsVal()</a></code> without any arguments.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/wsVal.html">wsVal</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Species name must be one of following. Be careful of spelling and capitalization.</span></span>
<span><span class="co">#&gt;   [1] "Aegean Chub"                "African Sharptooth Catfish"</span></span>
<span><span class="co">#&gt;   [3] "Alabama Bass"               "Ankara Nase"               </span></span>
<span><span class="co">#&gt;   [5] "Arctic Grayling"            "Bighead Carp"              </span></span>
<span><span class="co">#&gt;   [7] "Bigmouth Buffalo"           "Bigmouth Sleepers"         </span></span>
<span><span class="co">#&gt;   [9] "Black Bullhead"             "Black Crappie"             </span></span>
<span><span class="co">#&gt;  [11] "Blacktail Redhorse"         "Blue Catfish"              </span></span>
<span><span class="co">#&gt;  [13] "Blue Sucker"                "Bluegill"                  </span></span>
<span><span class="co">#&gt;  [15] "Bridgelip Sucker"           "Brook Chub"                </span></span>
<span><span class="co">#&gt;  [17] "Brook Trout"                "Brown Bullhead"            </span></span>
<span><span class="co">#&gt;  [19] "Brown Trout"                "Bull Trout"                </span></span>
<span><span class="co">#&gt;  [21] "Burbot"                     "Cavedano Chub"             </span></span>
<span><span class="co">#&gt;  [23] "Chain Pickerel"             "Channel Catfish"           </span></span>
<span><span class="co">#&gt;  [25] "Chinook Salmon"             "Cisco"                     </span></span>
<span><span class="co">#&gt;  [27] "Common Carp"                "Cutthroat Trout"           </span></span>
<span><span class="co">#&gt;  [29] "European Chub"              "European Perch"            </span></span>
<span><span class="co">#&gt;  [31] "Flannelmouth Sucker"        "Flathead Catfish"          </span></span>
<span><span class="co">#&gt;  [33] "Fourbarbel Scraper"         "Freshwater Drum"           </span></span>
<span><span class="co">#&gt;  [35] "Gizzard Shad"               "Golden Shiner"             </span></span>
<span><span class="co">#&gt;  [37] "Golden Trout"               "Goldeye"                   </span></span>
<span><span class="co">#&gt;  [39] "Green Sunfish"              "Horse Barbel"              </span></span>
<span><span class="co">#&gt;  [41] "Humpback Chub"              "Kokanee"                   </span></span>
<span><span class="co">#&gt;  [43] "Lake Chubsucker"            "Lake Herring"              </span></span>
<span><span class="co">#&gt;  [45] "Lake Trout"                 "Largemouth Bass"           </span></span>
<span><span class="co">#&gt;  [47] "Largescale Sucker"          "Longnose Gar"              </span></span>
<span><span class="co">#&gt;  [49] "Marble Trout"               "Mountain Mullet"           </span></span>
<span><span class="co">#&gt;  [51] "Mountain Whitefish"         "Muskellunge"               </span></span>
<span><span class="co">#&gt;  [53] "Nile Tilapia"               "Nipple-Lip Scraper"        </span></span>
<span><span class="co">#&gt;  [55] "Northern Pike"              "Northern Pikeminnow"       </span></span>
<span><span class="co">#&gt;  [57] "Northern Snakehead"         "Northern Squawfish"        </span></span>
<span><span class="co">#&gt;  [59] "Paddlefish"                 "Palmetto Bass"             </span></span>
<span><span class="co">#&gt;  [61] "Pejerrey"                   "Pumpkinseed"               </span></span>
<span><span class="co">#&gt;  [63] "Pursak Chub"                "Rainbow Trout"             </span></span>
<span><span class="co">#&gt;  [65] "Razorback Sucker"           "Redbreast Sunfish"         </span></span>
<span><span class="co">#&gt;  [67] "Redear Sunfish"             "Riffle Dace"               </span></span>
<span><span class="co">#&gt;  [69] "River Carpsucker"           "River Goby"                </span></span>
<span><span class="co">#&gt;  [71] "Rock Bass"                  "Roundtail Chub"            </span></span>
<span><span class="co">#&gt;  [73] "Ruffe"                      "Sardine"                   </span></span>
<span><span class="co">#&gt;  [75] "Sauger"                     "Saugeye"                   </span></span>
<span><span class="co">#&gt;  [77] "Shoal Bass"                 "Shorthead Redhorse"        </span></span>
<span><span class="co">#&gt;  [79] "Shovelnose Sturgeon"        "Silver Carp"               </span></span>
<span><span class="co">#&gt;  [81] "Smallmouth Bass"            "Smallmouth Buffalo"        </span></span>
<span><span class="co">#&gt;  [83] "South European Roach"       "Spotted Bass"              </span></span>
<span><span class="co">#&gt;  [85] "Spotted Gar"                "Spotted Sunfish"           </span></span>
<span><span class="co">#&gt;  [87] "Striped Bass"               "Striped Bass X White Bass" </span></span>
<span><span class="co">#&gt;  [89] "Suwannee Bass"              "Tiger Muskellunge"         </span></span>
<span><span class="co">#&gt;  [91] "Utah Chub"                  "Walleye"                   </span></span>
<span><span class="co">#&gt;  [93] "Warmouth"                   "White Bass"                </span></span>
<span><span class="co">#&gt;  [95] "White Catfish"              "White Crappie"             </span></span>
<span><span class="co">#&gt;  [97] "White Perch"                "White Sturgeon"            </span></span>
<span><span class="co">#&gt;  [99] "White Sucker"               "Yellow Bass"               </span></span>
<span><span class="co">#&gt; [101] "Yellow Bullhead"            "Yellow Perch"</span></span></code></pre></div>
</div>
<p>All parts of the species names in <code>WSlit</code> are capitalized (e.g., “Blue Sucker” and not “blue sucker” or “Blue sucker”). <code><a href="../reference/wsVal.html">wsVal()</a></code> will return an informative error message if your capitalization is not correct but the message will be less informative if your spelling is off.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/wsVal.html">wsVal</a></span><span class="op">(</span><span class="st">"Blue sucker"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error: There is no Ws equation in 'WSlit' for "Blue sucker". However, there is</span></span>
<span><span class="co">#&gt;   an entry for "Blue Sucker" (note spelling, including capitalization).</span></span>
<span><span class="fu"><a href="../reference/wsVal.html">wsVal</a></span><span class="op">(</span><span class="st">"Blue suckr"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error: There is no Ws equation in 'WSlit' for "Blue suckr". Type 'wsVal()' to</span></span>
<span><span class="co">#&gt;   see a list of available species.</span></span></code></pre></div>
</div>
<p>It is also not always obvious whether a species has equations for sub-groups or not.<a class="footnote-ref" role="doc-noteref" tabindex="0" data-bs-toggle="popover" data-bs-content='&lt;p&gt;But see &lt;a href="#tbl-species_issues" class="quarto-xref"&gt;Table 1&lt;/a&gt;.&lt;/p&gt;'><sup>7</sup></a> One way to deal with this is to just ask for the equation for your species of interest without using <code>group=</code>. If sub-groups exist then you will get an error message asking you to choose which sub-group to use.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/wsVal.html">wsVal</a></span><span class="op">(</span><span class="st">"Brown Trout"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error: "Brown Trout" has Ws equations for these sub-groups: "lentic" and</span></span>
<span><span class="co">#&gt;   "lotic". Please use 'group=' to select the equation for one of these</span></span>
<span><span class="co">#&gt;   groups.</span></span></code></pre></div>
</div>
<p>Then try again by choosing the sub-group with <code>group=</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/wsVal.html">wsVal</a></span><span class="op">(</span><span class="st">"Brown Trout"</span>,group<span class="op">=</span><span class="st">"lentic"</span><span class="op">)</span></span>
<span><span class="co">#&gt;        species  group measure  units ref method min.TL    int slope</span></span>
<span><span class="co">#&gt; 36 Brown Trout lentic      TL metric  75    RLP    140 -5.422 3.194</span></span>
<span><span class="co">#&gt;                      source</span></span>
<span><span class="co">#&gt; 36 Hyatt and Hubert (2001b)</span></span></code></pre></div>
</div>
<p>The same general process can be used for species that have equations developed from multiple methods.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/wsVal.html">wsVal</a></span><span class="op">(</span><span class="st">"Arctic Grayling"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error: Ws equations exist for both the RLP and EmP 'method's for "Arctic</span></span>
<span><span class="co">#&gt;   Grayling". Please select one or the other with 'method='.</span></span>
<span><span class="fu"><a href="../reference/wsVal.html">wsVal</a></span><span class="op">(</span><span class="st">"Arctic Grayling"</span>,method<span class="op">=</span><span class="st">"EmP"</span><span class="op">)</span></span>
<span><span class="co">#&gt;           species measure  units ref method min.TL    int slope</span></span>
<span><span class="co">#&gt; 6 Arctic Grayling      TL metric  75    EmP    150 -5.279 3.096</span></span>
<span><span class="co">#&gt;                 source                                                comment</span></span>
<span><span class="co">#&gt; 6 Gilham et al. (2021) authors note that either RLP or EmP method may be used</span></span></code></pre></div>
</div>
<p>Or for multiple reference groups.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/wsVal.html">wsVal</a></span><span class="op">(</span><span class="st">"Ruffe"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error: Ws equations exist for more than one 'ref'erence value for "Ruffe".</span></span>
<span><span class="co">#&gt;   Please select one of the following values with 'ref=': 50 or 75.</span></span>
<span><span class="fu"><a href="../reference/wsVal.html">wsVal</a></span><span class="op">(</span><span class="st">"Ruffe"</span>,ref<span class="op">=</span><span class="fl">50</span><span class="op">)</span></span>
<span><span class="co">#&gt;     species measure  units ref method min.TL max.TL     int  slope   quad</span></span>
<span><span class="co">#&gt; 147   Ruffe      TL metric  50    EmP     55    205 -3.3524 1.3969 0.4054</span></span>
<span><span class="co">#&gt;                       source</span></span>
<span><span class="co">#&gt; 147 Ogle and Winfield (2009)</span></span></code></pre></div>
</div>
<section class="level2"><h3 id="cautions">Cautions<a class="anchor" aria-label="anchor" href="#cautions"></a>
</h3>
<p><a href="#tbl-species_issues" class="quarto-xref">Table 1</a> shows species for which multiple standard weight equations exist in <code>WSlit</code> such that the specific one must be chosen by using <code>group=</code>, <code>method=</code>, or <code>ref=</code> in <code><a href="../reference/wsVal.html">wsVal()</a></code>.</p>
<div id="tbl-species_issues" class="quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-tbl"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-species_issues-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table 1: Species for which the user will have to select among multiple standard weight equations by using <code>group=</code>, <code>method=</code>, or <code>ref=</code> in <code><a href="../reference/wsVal.html">wsVal()</a></code>.
</figcaption><div aria-describedby="tbl-species_issues-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table caption-top">
<thead><tr class="header">
<th style="text-align: left;">Species</th>
<th style="text-align: left;">Cause of Multiple Equations</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Arctic Grayling</td>
<td style="text-align: left;">Multiple <code>method</code>s exist</td>
</tr>
<tr class="even">
<td style="text-align: left;">Bigmouth Sleepers</td>
<td style="text-align: left;">Sub-<code>group</code>s exist; multiple <code>ref</code>erence values</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Brook Trout</td>
<td style="text-align: left;">Sub-<code>group</code>s exist</td>
</tr>
<tr class="even">
<td style="text-align: left;">Brown Trout</td>
<td style="text-align: left;">Sub-<code>group</code>s exist</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Cutthroat Trout</td>
<td style="text-align: left;">Sub-<code>group</code>s exist</td>
</tr>
<tr class="even">
<td style="text-align: left;">Mountain Mullet</td>
<td style="text-align: left;">Multiple <code>ref</code>erence values</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Muskellunge</td>
<td style="text-align: left;">Sub-<code>group</code>s exist</td>
</tr>
<tr class="even">
<td style="text-align: left;">Paddlefish</td>
<td style="text-align: left;">Sub-<code>group</code>s exist</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Rainbow Trout</td>
<td style="text-align: left;">Sub-<code>group</code>s exist</td>
</tr>
<tr class="even">
<td style="text-align: left;">River Goby</td>
<td style="text-align: left;">Multiple <code>ref</code>erence values</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Ruffe</td>
<td style="text-align: left;">Multiple <code>ref</code>erence values</td>
</tr>
<tr class="even">
<td style="text-align: left;">Sardine</td>
<td style="text-align: left;">Multiple <code>ref</code>erence values</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Spotted Bass</td>
<td style="text-align: left;">Sub-<code>group</code>s exist</td>
</tr>
<tr class="even">
<td style="text-align: left;">Walleye</td>
<td style="text-align: left;">Sub-<code>group</code>s exist</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
</section></section><section class="section level2"><h2 id="calculate-individual-relative-weight">Calculate Individual Relative Weight<a class="anchor" aria-label="anchor" href="#calculate-individual-relative-weight"></a>
</h2>
<section class="level2"><h3 id="example-with-linear-equation">Example with Linear Equation<a class="anchor" aria-label="anchor" href="#example-with-linear-equation"></a>
</h3>
<p>The specifics of the standard weight equation returned by <code><a href="../reference/wsVal.html">wsVal()</a></code> can be used to compute the standard weight for a fish given its observed length. As an example, suppose that the relative weight of a Largemouth Bass with an observed length and weight of 350 mm and 650 g is desired.</p>
<p>Begin by assigning the specifics of the standard weight equation for Largemouth Bass returned by <code><a href="../reference/wsVal.html">wsVal()</a></code> to an object (e.g., <code>wsLMB</code> here).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wsLMB</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/wsVal.html">wsVal</a></span><span class="op">(</span><span class="st">"Largemouth Bass"</span><span class="op">)</span></span></code></pre></div>
</div>
<p>The intercept and slope for the standard weight equation on the <strong>log10-log10</strong> scale can be extracted from this object.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wsLMB</span><span class="op">[[</span><span class="st">"int"</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co">#&gt; [1] -5.528</span></span>
<span><span class="va">wsLMB</span><span class="op">[[</span><span class="st">"slope"</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co">#&gt; [1] 3.273</span></span></code></pre></div>
</div>
<p>The standard weight is then computed from these results and the <strong>log10-transformed</strong> observed length as follows (with the result saved to an object, called <code>ex1</code> here). Make sure to note the use of <code>10^</code> to back-transform the <strong>log10-transformed</strong> standard weight to a standard weight on the raw scale.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span> <span class="va">ex1</span> <span class="op">&lt;-</span> <span class="fl">10</span><span class="op">^</span><span class="op">(</span><span class="va">wsLMB</span><span class="op">[[</span><span class="st">"int"</span><span class="op">]</span><span class="op">]</span><span class="op">+</span><span class="va">wsLMB</span><span class="op">[[</span><span class="st">"slope"</span><span class="op">]</span><span class="op">]</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log10</a></span><span class="op">(</span><span class="fl">350</span><span class="op">)</span><span class="op">)</span> <span class="op">)</span></span>
<span><span class="co">#&gt; [1] 629.1218</span></span></code></pre></div>
</div>
<p>This calculation suggests that standard weight for a 250 mm Largemouth Bass is 629.1 g. With this and <a href="#eq-Wri" class="quarto-xref">Equation 1</a>, the relative weight for this individual can be computed (recalling that the observed weight was 650 g).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">100</span><span class="op">*</span><span class="fl">650</span><span class="op">/</span><span class="va">ex1</span></span>
<span><span class="co">#&gt; [1] 103.3186</span></span></code></pre></div>
</div>
<p>This indicates that the individual is heavier than a standard fish of the same length as this values is greater than 100.</p>
</section><section class="level2"><h3 id="example-with-quadratic-equation">Example with Quadratic Equation<a class="anchor" aria-label="anchor" href="#example-with-quadratic-equation"></a>
</h3>
<p>A similar process can be followed for species where the standard weight equation includes a quadratic term. The only “trick” here is to include the quadratic term multiplied by the <strong>square</strong> of the log10-transformed observed length when computing the standard weight. This calculation is illustrated below with a 500 mm and 1010 g Blue Sucker.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span> <span class="va">wsBS</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/wsVal.html">wsVal</a></span><span class="op">(</span><span class="st">"Blue Sucker"</span>,simplify<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span> <span class="op">)</span></span>
<span><span class="co">#&gt;        species min.TL max.TL   int slope  quad</span></span>
<span><span class="co">#&gt; 24 Blue Sucker    240    809 -2.98 0.977 0.461</span></span>
<span><span class="op">(</span> <span class="va">ex2</span> <span class="op">&lt;-</span> <span class="fl">10</span><span class="op">^</span><span class="op">(</span><span class="va">wsBS</span><span class="op">[[</span><span class="st">"int"</span><span class="op">]</span><span class="op">]</span><span class="op">+</span><span class="va">wsBS</span><span class="op">[[</span><span class="st">"slope"</span><span class="op">]</span><span class="op">]</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log10</a></span><span class="op">(</span><span class="fl">500</span><span class="op">)</span><span class="op">+</span><span class="va">wsBS</span><span class="op">[[</span><span class="st">"quad"</span><span class="op">]</span><span class="op">]</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log10</a></span><span class="op">(</span><span class="fl">500</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span> <span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1035.19</span></span>
<span><span class="fl">100</span><span class="op">*</span><span class="fl">1010</span><span class="op">/</span><span class="va">ex2</span></span>
<span><span class="co">#&gt; [1] 97.56662</span></span></code></pre></div>
</div>
</section><section class="level2"><h3 id="cautions-1">Cautions<a class="anchor" aria-label="anchor" href="#cautions-1"></a>
</h3>
<p>A few things to consider when calculating relative weights for individuals.</p>
<ul>
<li>Make sure the individual is longer than the minimum and shorter than the maximum (if given) length returned by <code><a href="../reference/wsVal.html">wsVal()</a></code>.</li>
<li>Make sure to log10-transform the observed length when computing the standard weight. Note that all standard weight equations use log10 so never use the natural log with standard weight calculations.</li>
<li>Make sure to back-transform (i.e., raise to the power of 10) the value so that the standard weight is on the raw rather than log10-transformed scale.</li>
<li>Relative weights have traditionally been reported on a scale where the fraction is multiplied by 100 (i.e., so 100 means that the observed weight equals the standard weight). Thus, don’t forget to multiply by 100 when computing the relative weight.</li>
</ul></section></section><section class="section level2"><h2 id="calculate-relative-weights-for-all-of-one-species">Calculate Relative Weights for All of One Species<a class="anchor" aria-label="anchor" href="#calculate-relative-weights-for-all-of-one-species"></a>
</h2>
<p>It is not common to compute the standard and relative weights for a single individual as was done in the previous section. Rather, it is more useful to calculate these values for all individuals in a sample, and then summarize those values for an overall assessment of the condition of those individuals.</p>
<p>Consider the <code>CiscoTL</code> data.frame distributed with the <code>FSAdata</code> package that contains the lengths (mm) and weights (g) of Cisco (<em>Coregonus artedii</em>) sampled from Trout Lake, WI, USA over a 25 year period.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"CiscoTL"</span>,package<span class="op">=</span><span class="st">"FSAdata"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">CiscoTL</span><span class="op">)</span></span>
<span><span class="co">#&gt; 'data.frame':    8594 obs. of  8 variables:</span></span>
<span><span class="co">#&gt;  $ lakeid    : Factor w/ 1 level "TR": 1 1 1 1 1 1 1 1 1 1 ...</span></span>
<span><span class="co">#&gt;  $ year4     : int  1981 1981 1981 1981 1981 1981 1981 1981 1981 1981 ...</span></span>
<span><span class="co">#&gt;  $ sampledate: Factor w/ 59 levels "7/19/2004","7/20/2004",..: 48 47 48 51 51 51 51 48 48 47 ...</span></span>
<span><span class="co">#&gt;  $ gearid    : Factor w/ 9 levels "ELFISH","TRAMML",..: 5 5 5 5 5 5 5 5 5 5 ...</span></span>
<span><span class="co">#&gt;  $ spname    : Factor w/ 1 level "CISCO": 1 1 1 1 1 1 1 1 1 1 ...</span></span>
<span><span class="co">#&gt;  $ length    : int  140 146 147 153 150 152 146 153 156 176 ...</span></span>
<span><span class="co">#&gt;  $ weight    : num  21.4 22.3 23.3 23.5 24 24 24.5 25.9 26.5 35.8 ...</span></span>
<span><span class="co">#&gt;  $ sex       : Factor w/ 3 levels "F","I","M": 1 1 1 1 1 1 1 1 1 1 ...</span></span>
<span><span class="fu"><a href="../reference/peek.html">peek</a></span><span class="op">(</span><span class="va">CiscoTL</span>,n<span class="op">=</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#&gt;      lakeid year4 sampledate gearid spname length weight  sex</span></span>
<span><span class="co">#&gt; 1        TR  1981  8/11/1981 VGN032  CISCO    140   21.4    F</span></span>
<span><span class="co">#&gt; 955      TR  1983  7/29/1983 VGN032  CISCO    196     NA &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 1910     TR  1984  7/24/1984 VGN038  CISCO    213     NA &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 2865     TR  1987  7/28/1987 VGN038  CISCO    208     NA &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 3820     TR  1991  7/30/1991 VGN025  CISCO    139     NA &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 4774     TR  1993  7/27/1993 VGN038  CISCO    213     NA &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 5729     TR  1997  7/28/1997 VGN032  CISCO    174     NA &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 6684     TR  1999  7/26/1999 VGN025  CISCO    137     NA &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 7639     TR  2002  7/23/2002 VGN025  CISCO    144     NA &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 8594     TR  2006  7/20/2006 VGN038  CISCO    216     NA &lt;NA&gt;</span></span></code></pre></div>
</div>
<p>Note that there are lots of missing weights in this data.frame.</p>
<section class="level2"><h3 id="manual-calculations">“Manual” Calculations<a class="anchor" aria-label="anchor" href="#manual-calculations"></a>
</h3>
<p>The relative weight calculation begins by finding the specifics of the standard weight equation for Cisco.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span> <span class="va">wsC</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/wsVal.html">wsVal</a></span><span class="op">(</span><span class="st">"Cisco"</span><span class="op">)</span> <span class="op">)</span></span>
<span><span class="co">#&gt;    species measure  units ref method min.TL    int slope</span></span>
<span><span class="co">#&gt; 51   Cisco      TL metric  75    RLP    100 -5.517 3.224</span></span>
<span><span class="co">#&gt;                       source                  comment</span></span>
<span><span class="co">#&gt; 51 Fisher and Fielder (1998) same as for Lake Herring</span></span></code></pre></div>
</div>
<p>Two new variables – <code>Ws</code> for standard weight and <code>Wr</code> for relative weight – are added to the data.frame in three steps below. First, <code>Ws</code> is calculated using the coefficients from the standard weight equation and the log-transformed length variable as shown above (but within <code><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate()</a></code> from <code>dplyr</code>). Second, if the observed length is less than the minimum length for which the standard weight equation should be applied, then the previously calculated <code>Ws</code> is replaced with an <code>NA</code> (for missing value). Finally, the relative weight is computed from the observed weight and standard weight variables using <a href="#eq-Wri" class="quarto-xref">Equation 1</a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">CiscoTL</span> <span class="op">&lt;-</span> <span class="va">CiscoTL</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>Ws<span class="op">=</span><span class="fl">10</span><span class="op">^</span><span class="op">(</span><span class="va">wsC</span><span class="op">[[</span><span class="st">"int"</span><span class="op">]</span><span class="op">]</span><span class="op">+</span><span class="va">wsC</span><span class="op">[[</span><span class="st">"slope"</span><span class="op">]</span><span class="op">]</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log10</a></span><span class="op">(</span><span class="va">length</span><span class="op">)</span><span class="op">)</span>,</span>
<span>         Ws<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">length</span><span class="op">&lt;</span><span class="va">wsC</span><span class="op">$</span><span class="va">min.TL</span>,<span class="cn">NA</span>,<span class="va">Ws</span><span class="op">)</span>,</span>
<span>         Wr<span class="op">=</span><span class="fl">100</span><span class="op">*</span><span class="va">weight</span><span class="op">/</span><span class="va">Ws</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/peek.html">peek</a></span><span class="op">(</span><span class="va">CiscoTL</span>,n<span class="op">=</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#&gt;      lakeid year4 sampledate gearid spname length weight  sex        Ws      Wr</span></span>
<span><span class="co">#&gt; 1        TR  1981  8/11/1981 VGN032  CISCO    140   21.4    F  25.24159 84.7807</span></span>
<span><span class="co">#&gt; 955      TR  1983  7/29/1983 VGN032  CISCO    196     NA &lt;NA&gt;  74.68503      NA</span></span>
<span><span class="co">#&gt; 1910     TR  1984  7/24/1984 VGN038  CISCO    213     NA &lt;NA&gt;  97.65531      NA</span></span>
<span><span class="co">#&gt; 2865     TR  1987  7/28/1987 VGN038  CISCO    208     NA &lt;NA&gt;  90.45575      NA</span></span>
<span><span class="co">#&gt; 3820     TR  1991  7/30/1991 VGN025  CISCO    139     NA &lt;NA&gt;  24.66492      NA</span></span>
<span><span class="co">#&gt; 4774     TR  1993  7/27/1993 VGN038  CISCO    213     NA &lt;NA&gt;  97.65531      NA</span></span>
<span><span class="co">#&gt; 5729     TR  1997  7/28/1997 VGN032  CISCO    174     NA &lt;NA&gt;  50.87809      NA</span></span>
<span><span class="co">#&gt; 6684     TR  1999  7/26/1999 VGN025  CISCO    137     NA &lt;NA&gt;  23.53895      NA</span></span>
<span><span class="co">#&gt; 7639     TR  2002  7/23/2002 VGN025  CISCO    144     NA &lt;NA&gt;  27.64144      NA</span></span>
<span><span class="co">#&gt; 8594     TR  2006  7/20/2006 VGN038  CISCO    216     NA &lt;NA&gt; 102.15953      NA</span></span></code></pre></div>
</div>
<p>As an illustration, the mean and standard deviation of relative weights are computed below (along with <code>validn</code> which is the number of non-<code>NA</code> (i.e., non-missing) relative weights).<a class="footnote-ref" role="doc-noteref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;More interesting summaries and plots may be constructed with these data. This is just an example of summarizing relative weights for a sample.&lt;/p&gt;"><sup>8</sup></a> These results suggest that this population of Cisco is substantially “skinnier” (i.e., under-weight) than the standard for the species (because the mean relative weight is substantially less than 100).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">CiscoTL</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span>validn<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">Wr</span><span class="op">)</span><span class="op">)</span>,</span>
<span>            mnWr<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">Wr</span>,na.rm<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>            sdWr<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="va">Wr</span>,na.rm<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;   validn    mnWr     sdWr</span></span>
<span><span class="co">#&gt; 1   1190 76.6967 7.784748</span></span></code></pre></div>
</div>
</section><section class="level2"><h3 id="using-the-wradd-convenience-function">Using the <code>WrAdd()</code> Convenience Function<a class="anchor" aria-label="anchor" href="#using-the-wradd-convenience-function"></a>
</h3>
<p><code><a href="../reference/wrAdd.html">wrAdd()</a></code> can be used to add a relative weight variable to a data.frame for <strong>all</strong> species in the data.frame for which a standard weight equation exists. The main argument to <code><a href="../reference/wrAdd.html">wrAdd()</a></code> is a formula of the form <code>weight~length+species</code> where <code>weight</code> is the observed weight variable, <code>length</code> is the observed length variable, and <code>species</code> is the name of the species variable. One constraint here is that the species must be spelled (and capitalized) as in <code>WSlit</code>. In these data for Cisco, the species name is in <code>spname</code> but the species is all capital letters as “CISCO”, rather than the required “Cisco”. <code><a href="../reference/capFirst.html">capFirst()</a></code><a class="footnote-ref" role="doc-noteref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;From &lt;code&gt;FSA&lt;/code&gt;.&lt;/p&gt;"><sup>9</sup></a> may be used to convert a word to a form where just the first letter is capitalized, and is used below.<a class="footnote-ref" role="doc-noteref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;Note that the &lt;code&gt;CiscoTL&lt;/code&gt; data.frame was re-read so that the additions in the previous section were removed.&lt;/p&gt;"><sup>10</sup></a></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">CiscoTL</span> <span class="op">&lt;-</span> <span class="va">CiscoTL</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>Wr<span class="op">=</span><span class="fu"><a href="../reference/wrAdd.html">wrAdd</a></span><span class="op">(</span><span class="va">weight</span><span class="op">~</span><span class="va">length</span><span class="op">+</span><span class="fu"><a href="../reference/capFirst.html">capFirst</a></span><span class="op">(</span><span class="va">spname</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/peek.html">peek</a></span><span class="op">(</span><span class="va">CiscoTL</span>,n<span class="op">=</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#&gt;      lakeid year4 sampledate gearid spname length weight  sex      Wr</span></span>
<span><span class="co">#&gt; 1        TR  1981  8/11/1981 VGN032  CISCO    140   21.4    F 84.7807</span></span>
<span><span class="co">#&gt; 955      TR  1983  7/29/1983 VGN032  CISCO    196     NA &lt;NA&gt;      NA</span></span>
<span><span class="co">#&gt; 1910     TR  1984  7/24/1984 VGN038  CISCO    213     NA &lt;NA&gt;      NA</span></span>
<span><span class="co">#&gt; 2865     TR  1987  7/28/1987 VGN038  CISCO    208     NA &lt;NA&gt;      NA</span></span>
<span><span class="co">#&gt; 3820     TR  1991  7/30/1991 VGN025  CISCO    139     NA &lt;NA&gt;      NA</span></span>
<span><span class="co">#&gt; 4774     TR  1993  7/27/1993 VGN038  CISCO    213     NA &lt;NA&gt;      NA</span></span>
<span><span class="co">#&gt; 5729     TR  1997  7/28/1997 VGN032  CISCO    174     NA &lt;NA&gt;      NA</span></span>
<span><span class="co">#&gt; 6684     TR  1999  7/26/1999 VGN025  CISCO    137     NA &lt;NA&gt;      NA</span></span>
<span><span class="co">#&gt; 7639     TR  2002  7/23/2002 VGN025  CISCO    144     NA &lt;NA&gt;      NA</span></span>
<span><span class="co">#&gt; 8594     TR  2006  7/20/2006 VGN038  CISCO    216     NA &lt;NA&gt;      NA</span></span></code></pre></div>
</div>
<p><code><a href="../reference/wrAdd.html">wrAdd()</a></code> deals with species that have more than one standard weight equation<a class="footnote-ref" role="doc-noteref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;As illustrated previuosly.&lt;/p&gt;"><sup>11</sup></a> with <code>WsOpts=</code>. For example, consider adding a relative weight variable to the <code>RuffeSLRH92</code> data.frame distributed with <code>FSAdata</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"RuffeSLRH92"</span>,package<span class="op">=</span><span class="st">"FSAdata"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">RuffeSLRH92</span><span class="op">)</span></span>
<span><span class="co">#&gt; 'data.frame':    738 obs. of  11 variables:</span></span>
<span><span class="co">#&gt;  $ fish.id : num  1992 1992 1992 1992 1992 ...</span></span>
<span><span class="co">#&gt;  $ month   : int  4 4 4 4 4 4 4 4 4 4 ...</span></span>
<span><span class="co">#&gt;  $ day     : int  23 23 23 23 23 23 23 23 23 23 ...</span></span>
<span><span class="co">#&gt;  $ year    : int  1992 1992 1992 1992 1992 1992 1992 1992 1992 1992 ...</span></span>
<span><span class="co">#&gt;  $ indiv   : int  1 2 3 4 5 6 7 8 9 10 ...</span></span>
<span><span class="co">#&gt;  $ location: int  160170 160170 160170 160170 160170 160170 160170 160170 160170 160170 ...</span></span>
<span><span class="co">#&gt;  $ length  : int  90 128 112 68 56 58 111 111 115 65 ...</span></span>
<span><span class="co">#&gt;  $ weight  : num  9.3 32.5 19 4.4 2.1 2.8 16.1 17.9 22.7 3.4 ...</span></span>
<span><span class="co">#&gt;  $ sex     : Factor w/ 3 levels "female","male",..: 2 1 2 2 3 2 2 2 2 1 ...</span></span>
<span><span class="co">#&gt;  $ maturity: Factor w/ 11 levels "developing","immature",..: 7 7 7 7 10 7 7 7 7 2 ...</span></span>
<span><span class="co">#&gt;  $ age     : int  NA NA NA NA NA NA NA NA NA 1 ...</span></span></code></pre></div>
</div>
<p>Note that there is no species variable, which is needed by <code><a href="../reference/wrAdd.html">wrAdd()</a></code>.<a class="footnote-ref" role="doc-noteref" tabindex="0" data-bs-toggle="popover" data-bs-content='&lt;p&gt;Note that &lt;code&gt;&lt;a href="../reference/wrAdd.html"&gt;wrAdd()&lt;/a&gt;&lt;/code&gt; is more convenient for data.frames with multiple species as will be illustrated in the next section.&lt;/p&gt;'><sup>12</sup></a> Additionally, for simplicity of presentation, I removed several other variables that are not needed for this example.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">RuffeSLRH92</span> <span class="op">&lt;-</span> <span class="va">RuffeSLRH92</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>species<span class="op">=</span><span class="st">"Ruffe"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">species</span>,<span class="va">length</span>,<span class="va">weight</span>,<span class="va">sex</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/peek.html">peek</a></span><span class="op">(</span><span class="va">RuffeSLRH92</span>,n<span class="op">=</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#&gt;     species length weight     sex</span></span>
<span><span class="co">#&gt; 1     Ruffe     90    9.3    male</span></span>
<span><span class="co">#&gt; 82    Ruffe    120   24.0    male</span></span>
<span><span class="co">#&gt; 164   Ruffe    142   33.1  female</span></span>
<span><span class="co">#&gt; 246   Ruffe     84    7.4  female</span></span>
<span><span class="co">#&gt; 328   Ruffe    100   12.6    male</span></span>
<span><span class="co">#&gt; 410   Ruffe     25    0.2 unknown</span></span>
<span><span class="co">#&gt; 492   Ruffe     94   13.0    male</span></span>
<span><span class="co">#&gt; 574   Ruffe     85    7.9    male</span></span>
<span><span class="co">#&gt; 656   Ruffe    145   39.1    male</span></span>
<span><span class="co">#&gt; 738   Ruffe    160   52.9  female</span></span></code></pre></div>
</div>
<p>Code similar to that used above for Cisco returns an error because there are standard weight equations for Ruffe for both 50th and 75th percentile references (see snippet below with the error message).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">RuffeSLRH92</span> <span class="op">&lt;-</span> <span class="va">RuffeSLRH92</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>Wr<span class="op">=</span><span class="fu"><a href="../reference/wrAdd.html">wrAdd</a></span><span class="op">(</span><span class="va">weight</span><span class="op">~</span><span class="va">length</span><span class="op">+</span><span class="va">species</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;     species group ref method</span></span>
<span><span class="co">#&gt; 147   Ruffe  &lt;NA&gt;  50    EmP</span></span>
<span><span class="co">#&gt; 148   Ruffe  &lt;NA&gt;  75    EmP</span></span>
<span><span class="co">#&gt; Error in `mutate()`:</span></span>
<span><span class="co">#&gt; ℹ In argument: `Wr = wrAdd(weight ~ length + species)`.</span></span>
<span><span class="co">#&gt; Caused by error:</span></span>
<span><span class="co">#&gt; ! More than one Ws equation exists for "Ruffe". Please use a named list</span></span>
<span><span class="co">#&gt;   in 'opts=' to select one equation for "Ruffe" by specifing 'group',</span></span>
<span><span class="co">#&gt;   'ref', or 'method' as appropriate. See details in documentation and</span></span>
<span><span class="co">#&gt;   above (for reference).</span></span></code></pre></div>
</div>
<p>To continue, <code><a href="../reference/wrAdd.html">wrAdd()</a></code> must be instructed as to which of these two equations should be used to calculate the standard weight and, thus, relative weight. This is handled with a list in <code>WsOpts=</code> which will include the species name set equal to a list which identifies the specific equation to use (i.e., <code>ref=50</code> in this example).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">RuffeSLRH92</span> <span class="op">&lt;-</span> <span class="va">RuffeSLRH92</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>Wr<span class="op">=</span><span class="fu"><a href="../reference/wrAdd.html">wrAdd</a></span><span class="op">(</span><span class="va">weight</span><span class="op">~</span><span class="va">length</span><span class="op">+</span><span class="va">species</span>,WsOpts<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>Ruffe<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>ref<span class="op">=</span><span class="fl">50</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/peek.html">peek</a></span><span class="op">(</span><span class="va">RuffeSLRH92</span>,n<span class="op">=</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#&gt;     species length weight     sex        Wr</span></span>
<span><span class="co">#&gt; 1     Ruffe     90    9.3    male 110.34512</span></span>
<span><span class="co">#&gt; 82    Ruffe    120   24.0    male 119.03123</span></span>
<span><span class="co">#&gt; 164   Ruffe    142   33.1  female  97.21733</span></span>
<span><span class="co">#&gt; 246   Ruffe     84    7.4  female 107.76315</span></span>
<span><span class="co">#&gt; 328   Ruffe    100   12.6    male 108.98596</span></span>
<span><span class="co">#&gt; 410   Ruffe     25    0.2 unknown        NA</span></span>
<span><span class="co">#&gt; 492   Ruffe     94   13.0    male 135.44538</span></span>
<span><span class="co">#&gt; 574   Ruffe     85    7.9    male 111.08527</span></span>
<span><span class="co">#&gt; 656   Ruffe    145   39.1    male 107.53033</span></span>
<span><span class="co">#&gt; 738   Ruffe    160   52.9  female 106.51935</span></span></code></pre></div>
</div>
</section></section><section class="section level2"><h2 id="calculate-relative-weights-for-all-of-multiple-species">Calculate Relative Weights for All of Multiple Species<a class="anchor" aria-label="anchor" href="#calculate-relative-weights-for-all-of-multiple-species"></a>
</h2>
<p>The real value of <code><a href="../reference/wrAdd.html">wrAdd()</a></code> is that it can be used to efficiently add a relative weight variable for multiple species in a single data.frame. For example, <code>InchLake2</code> distributed with <code>FSAdata</code> contains lengths and weights for several species captured from Inch Lake.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"InchLake2"</span>,package<span class="op">=</span><span class="st">"FSAdata"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/peek.html">peek</a></span><span class="op">(</span><span class="va">InchLake2</span>,n<span class="op">=</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#&gt;     netID fishID          species length weight year</span></span>
<span><span class="co">#&gt; 1     206    501         Bluegill    1.5    0.7 2008</span></span>
<span><span class="co">#&gt; 57     16    208    Black Crappie   11.6  380.0 2007</span></span>
<span><span class="co">#&gt; 115   101    583         Bluegill    5.5   48.0 2008</span></span>
<span><span class="co">#&gt; 172   102    642 Bluntnose Minnow    2.1    1.3 2008</span></span>
<span><span class="co">#&gt; 229   116    760  Largemouth Bass    2.8    2.0 2008</span></span>
<span><span class="co">#&gt; 287   109    843  Largemouth Bass   13.1  460.0 2008</span></span>
<span><span class="co">#&gt; 344   130    902  Largemouth Bass   10.1  173.0 2008</span></span>
<span><span class="co">#&gt; 401     6    178         Bluegill    6.2   62.0 2007</span></span>
<span><span class="co">#&gt; 459    12     45 Bluntnose Minnow    2.7    6.0 2007</span></span>
<span><span class="co">#&gt; 516     4    127         Bluegill    6.6   90.0 2007</span></span></code></pre></div>
</div>
<p>One oddity of these data is that length was recorded in inches, whereas weight was recorded in grams. The standard weight equations either use inches and pounds or millimeters and grams. In this case, I converted the inches to mm first, and then added the relative weight variable with <code><a href="../reference/wrAdd.html">wrAdd()</a></code> as before.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">InchLake2</span> <span class="op">&lt;-</span> <span class="va">InchLake2</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>lenmm<span class="op">=</span><span class="va">length</span><span class="op">*</span><span class="fl">25.4</span>,</span>
<span>         Wr<span class="op">=</span><span class="fu"><a href="../reference/wrAdd.html">wrAdd</a></span><span class="op">(</span><span class="va">weight</span><span class="op">~</span><span class="va">lenmm</span><span class="op">+</span><span class="va">species</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<p>The mean and sd of relative weight by species is shown below. It is important to carefully examine these results because a species could have no mean relative weight calculated because there is no standard weight equation for that species (in <code>WSlit</code>) or because the species name is not spelled as expected (in <code>WSlit</code>). The four species with no mean relative weight below all do, indeed, not have a known standard weight equation.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">InchLake2</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">species</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span>validn<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">Wr</span><span class="op">)</span><span class="op">)</span>,</span>
<span>            mnWr<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">Wr</span>,na.rm<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>            sdWr<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="va">Wr</span>,na.rm<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;            species validn     mnWr      sdWr</span></span>
<span><span class="co">#&gt; 1    Black Crappie     25 90.10370  5.990792</span></span>
<span><span class="co">#&gt; 2         Bluegill    160 86.11836 12.997061</span></span>
<span><span class="co">#&gt; 3 Bluntnose Minnow      0      NaN        NA</span></span>
<span><span class="co">#&gt; 4   Fathead Minnow      0      NaN        NA</span></span>
<span><span class="co">#&gt; 5      Iowa Darter      0      NaN        NA</span></span>
<span><span class="co">#&gt; 6  Largemouth Bass     87 83.89716  8.011810</span></span>
<span><span class="co">#&gt; 7      Pumpkinseed     12 95.17387 23.273849</span></span>
<span><span class="co">#&gt; 8   Tadpole Madtom      0      NaN        NA</span></span>
<span><span class="co">#&gt; 9     Yellow Perch     26 70.94935  6.816332</span></span></code></pre></div>
</div>
</section><script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config);
    }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script></main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="http://derekogle.com" class="external-link">Derek H. Ogle</a>, Jason C. Doll, A. Powell Wheeler, Alexis Dinno.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.9000.</p>
</div>

    </footer>
</div>





  </body>
</html>
